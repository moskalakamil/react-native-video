"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["7989"],{29373:function(e,n,a){a.r(n),a.d(n,{frontMatter:()=>t,toc:()=>s,default:()=>p,metadata:()=>l,assets:()=>r,contentTitle:()=>i});var l=JSON.parse('{"id":"extensions/uploading/getting-started","title":"Getting Started","description":"Upload media files in the background with automatic retry, network tracking, and queue management.","source":"@site/docs/extensions/uploading/getting-started.md","sourceDirName":"extensions/uploading","slug":"/extensions/uploading/getting-started","permalink":"/react-native-video/docs/v7/extensions/uploading/getting-started","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Configuration","permalink":"/react-native-video/docs/v7/extensions/downloading/configuration"},"next":{"title":"Basic Upload","permalink":"/react-native-video/docs/v7/extensions/uploading/basic-upload"}}'),o=a(74848),d=a(56151);let t={},i="Getting Started",r={},s=[{value:"Overview",id:"overview",level:2},{value:"Basic Example",id:"basic-example",level:2},{value:"Installation",id:"installation",level:2},{value:"iOS",id:"ios",level:3},{value:"Android",id:"android",level:3},{value:"Quick Start",id:"quick-start",level:2},{value:"1. Create an Upload",id:"1-create-an-upload",level:3},{value:"2. Start Uploading",id:"2-start-uploading",level:3},{value:"3. Handle Response",id:"3-handle-response",level:3},{value:"Upload Manager",id:"upload-manager",level:2},{value:"Upload States",id:"upload-states",level:2},{value:"Network Tracking",id:"network-tracking",level:2},{value:"Automatic Retry",id:"automatic-retry",level:2},{value:"Next Steps",id:"next-steps",level:2}];function c(e){let n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"getting-started",children:"Getting Started"})}),"\n",(0,o.jsx)(n.p,{children:"Upload media files in the background with automatic retry, network tracking, and queue management."}),"\n",(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(n.p,{children:"The Background Upload SDK enables:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Background Uploads"})," - Continue uploading when app is backgrounded"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Automatic Retry"})," - Retry failed uploads automatically"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Network Tracking"})," - Pause/resume based on connectivity"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Queue Management"})," - Handle multiple uploads efficiently"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Multi-Part Upload"})," - Upload large files in chunks ",(0,o.jsx)(n.em,{children:"(Pro)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Progress Tracking"})," - Monitor upload progress in real-time"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Server Verification"})," - Verify upload completion on server"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"basic-example",children:"Basic Example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"import { VideoUploader } from 'react-native-video';\n\n// Simple upload\nconst upload = await VideoUploader.upload({\n  file: '/path/to/video.mp4',\n  url: 'https://api.example.com/upload',\n});\n\n// Monitor progress\nupload.onProgress((progress) => {\n  console.log(`Uploaded: ${progress.percentage}%`);\n});\n\n// Wait for completion\nawait upload.start();\n\nconsole.log('Upload completed!', upload.response);\n"})}),"\n",(0,o.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,o.jsx)(n.p,{children:"The Background Upload SDK requires additional native setup:"}),"\n",(0,o.jsx)(n.h3,{id:"ios",children:"iOS"}),"\n",(0,o.jsxs)(n.p,{children:["Add background modes to ",(0,o.jsx)(n.code,{children:"Info.plist"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<key>UIBackgroundModes</key>\n<array>\n  <string>fetch</string>\n  <string>processing</string>\n</array>\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Add to your ",(0,o.jsx)(n.code,{children:"Podfile"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ruby",children:"pod 'RNVideoUploader', :path => '../node_modules/react-native-video/ios'\n"})}),"\n",(0,o.jsx)(n.h3,{id:"android",children:"Android"}),"\n",(0,o.jsxs)(n.p,{children:["Add to ",(0,o.jsx)(n.code,{children:"AndroidManifest.xml"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<uses-permission android:name="android.permission.INTERNET" />\n<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />\n<uses-permission android:name="android.permission.FOREGROUND_SERVICE" />\n\n<application>\n  <service\n    android:name="com.brentvatne.react.VideoUploaderService"\n    android:exported="false"\n    android:foregroundServiceType="dataSync" />\n</application>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,o.jsx)(n.h3,{id:"1-create-an-upload",children:"1. Create an Upload"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const upload = await VideoUploader.upload({\n  file: '/path/to/video.mp4',\n  url: 'https://api.example.com/upload',\n  method: 'POST',\n  headers: {\n    'Authorization': 'Bearer token',\n  },\n  metadata: {\n    title: 'My Video',\n    description: 'Uploaded from mobile',\n  },\n});\n"})}),"\n",(0,o.jsx)(n.h3,{id:"2-start-uploading",children:"2. Start Uploading"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"// Start immediately\nawait upload.start();\n\n// Or listen to events\nupload.onProgress((progress) => {\n  console.log(`${progress.bytesUploaded} / ${progress.totalBytes}`);\n});\n\nupload.onComplete((response) => {\n  console.log('Upload completed!', response);\n});\n\nupload.onError((error) => {\n  console.error('Upload failed:', error);\n});\n\nawait upload.start();\n"})}),"\n",(0,o.jsx)(n.h3,{id:"3-handle-response",children:"3. Handle Response"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const upload = await VideoUploader.upload({\n  file: '/path/to/video.mp4',\n  url: 'https://api.example.com/upload',\n});\n\nupload.onComplete((response) => {\n  console.log('Server response:', response.data);\n  console.log('Video ID:', response.data.videoId);\n});\n\nawait upload.start();\n"})}),"\n",(0,o.jsx)(n.h2,{id:"upload-manager",children:"Upload Manager"}),"\n",(0,o.jsx)(n.p,{children:"Manage multiple uploads with the Upload Manager:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"import { VideoUploadManager } from 'react-native-video';\n\n// Get all uploads\nconst uploads = await VideoUploadManager.getAll();\n\n// Find specific upload\nconst upload = await VideoUploadManager.findById(uploadId);\n\n// Cancel upload\nawait VideoUploadManager.cancel(uploadId);\n\n// Get total bytes uploaded\nconst totalUploaded = await VideoUploadManager.getTotalBytesUploaded();\n"})}),"\n",(0,o.jsx)(n.h2,{id:"upload-states",children:"Upload States"}),"\n",(0,o.jsx)(n.p,{children:"Uploads progress through these states:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"State"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"queued"})}),(0,o.jsx)(n.td,{children:"Waiting to start"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"uploading"})}),(0,o.jsx)(n.td,{children:"Actively uploading"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"paused"})}),(0,o.jsx)(n.td,{children:"Temporarily paused"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"completed"})}),(0,o.jsx)(n.td,{children:"Successfully uploaded"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"failed"})}),(0,o.jsx)(n.td,{children:"Upload failed"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"cancelled"})}),(0,o.jsx)(n.td,{children:"User cancelled"})]})]})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"upload.onStateChange((state) => {\n  switch (state) {\n    case 'queued':\n      console.log('Waiting to start...');\n      break;\n    case 'uploading':\n      console.log('Uploading...');\n      break;\n    case 'completed':\n      console.log('Upload complete!');\n      break;\n    case 'failed':\n      console.log('Upload failed');\n      break;\n  }\n});\n"})}),"\n",(0,o.jsx)(n.h2,{id:"network-tracking",children:"Network Tracking"}),"\n",(0,o.jsx)(n.p,{children:"Automatically pause/resume uploads based on connectivity:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const upload = await VideoUploader.upload({\n  file: '/path/to/video.mp4',\n  url: 'https://api.example.com/upload',\n  networkTracking: true, // Auto-pause when offline\n  requireWifi: false, // Allow cellular uploads\n});\n\nupload.onNetworkChange((state) => {\n  console.log('Network:', state.isConnected ? 'Online' : 'Offline');\n  console.log('Type:', state.type); // 'wifi', 'cellular', 'ethernet'\n});\n"})}),"\n",(0,o.jsx)(n.h2,{id:"automatic-retry",children:"Automatic Retry"}),"\n",(0,o.jsx)(n.p,{children:"Uploads automatically retry on failure:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const upload = await VideoUploader.upload({\n  file: '/path/to/video.mp4',\n  url: 'https://api.example.com/upload',\n  retryAttempts: 3,\n  retryDelay: 5000, // 5 seconds\n});\n\nupload.onRetry((attempt) => {\n  console.log(`Retrying upload, attempt ${attempt}/3`);\n});\n"})}),"\n",(0,o.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/uploading/basic-upload",children:"Basic Upload"})," - Simple file uploads"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/uploading/multi-part-upload",children:"Multi-Part Upload"})," - Large file uploads ",(0,o.jsx)(n.em,{children:"(Pro)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/uploading/queue-management",children:"Queue Management"})," - Handle multiple uploads"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/uploading/network-tracking",children:"Network Tracking"})," - Network-aware uploads"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/uploading/configuration",children:"Configuration"})," - Configure upload behavior"]}),"\n"]})]})}function p(e={}){let{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},56151:function(e,n,a){a.d(n,{R:()=>t,x:()=>i});var l=a(96540);let o={},d=l.createContext(o);function t(e){let n=l.useContext(d);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),l.createElement(d.Provider,{value:n},e.children)}}}]);