"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["3515"],{7012:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>a,toc:()=>o,default:()=>p,metadata:()=>r,assets:()=>l,contentTitle:()=>d});var r=JSON.parse('{"id":"players/advertising/yospace","title":"Yospace","description":"Server-side ad insertion with Yospace platform.","source":"@site/docs/players/advertising/yospace.md","sourceDirName":"players/advertising","slug":"/players/advertising/yospace","permalink":"/react-native-video/docs/v7/players/advertising/yospace","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"FreeWheel","permalink":"/react-native-video/docs/v7/players/advertising/freewheel"},"next":{"title":"Getting Started","permalink":"/react-native-video/docs/v7/video-view/getting-started"}}'),t=s(74848),i=s(56151);let a={},d="Yospace",l={},o=[{value:"Overview",id:"overview",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Basic Setup",id:"basic-setup",level:2},{value:"VOD Stream",id:"vod-stream",level:3},{value:"Live Stream",id:"live-stream",level:3},{value:"Configuration",id:"configuration",level:2},{value:"VOD Configuration",id:"vod-configuration",level:3},{value:"Live Configuration",id:"live-configuration",level:3},{value:"Ad Events",id:"ad-events",level:2},{value:"Timeline Management",id:"timeline-management",level:2},{value:"Seeking Control",id:"seeking-control",level:2},{value:"Ad Markers",id:"ad-markers",level:2},{value:"Complete Example",id:"complete-example",level:2},{value:"Advanced Features",id:"advanced-features",level:2},{value:"Custom Analytics",id:"custom-analytics",level:3},{value:"Ad Replacement",id:"ad-replacement",level:3},{value:"Platform Support",id:"platform-support",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Testing",id:"testing",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"yospace",children:"Yospace"})}),"\n",(0,t.jsx)(n.p,{children:"Server-side ad insertion with Yospace platform."}),"\n",(0,t.jsx)(n.admonition,{title:"Pro Feature - Coming Soon",type:"tip",children:(0,t.jsx)(n.p,{children:"Yospace integration is a Pro feature currently in development."})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"Yospace provides:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Server-Side Ad Insertion (SSAI)"})," - Seamless ad integration"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Live & VOD"})," - Support for both formats"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"DVR Support"})," - Ads work with time-shifting"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Ad-Blocker Proof"})," - Ads part of the stream"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Low Latency"})," - Minimal impact on playback"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Advanced Analytics"})," - Detailed tracking"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Yospace server stitches ads into video stream"}),"\n",(0,t.jsx)(n.li,{children:"Client receives single manifest with ads"}),"\n",(0,t.jsx)(n.li,{children:"SDK tracks ad markers for UI updates"}),"\n",(0,t.jsx)(n.li,{children:"Seamless transitions between content and ads"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,t.jsx)(n.h3,{id:"vod-stream",children:"VOD Stream"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { useVideoPlayer, VideoView } from 'react-native-video';\n\nconst player = useVideoPlayer({\n  source: {\n    uri: 'https://your-yospace-url/manifest.m3u8',\n    type: 'yospace',\n  },\n  ads: {\n    enabled: true,\n    provider: 'yospace',\n  },\n});\n\nreturn <VideoView player={player} />;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"live-stream",children:"Live Stream"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const player = useVideoPlayer({\n  source: {\n    uri: 'https://your-yospace-url/live.m3u8',\n    type: 'yospace-live',\n  },\n  ads: {\n    enabled: true,\n    provider: 'yospace',\n    isLive: true,\n  },\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"vod-configuration",children:"VOD Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"ads: {\n  enabled: true,\n  provider: 'yospace',\n  manifestUrl: 'https://csm-e-sdk-validation.bln1.yospace.com/...',\n  isLive: false,\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"live-configuration",children:"Live Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"ads: {\n  enabled: true,\n  provider: 'yospace',\n  manifestUrl: 'https://csm-e-sdk-validation.bln1.yospace.com/...',\n  isLive: true,\n  dvrWindowSize: 7200, // 2 hours in seconds\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"ad-events",children:"Ad Events"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"// Ad break started\nplayer.addEventListener('yospaceAdBreakStart', (adBreak) => {\n  console.log('Ad break started');\n  console.log('Break ID:', adBreak.id);\n  console.log('Duration:', adBreak.duration);\n  console.log('Position:', adBreak.position);\n});\n\n// Ad break ended\nplayer.addEventListener('yospaceAdBreakEnd', (adBreak) => {\n  console.log('Ad break ended:', adBreak.id);\n});\n\n// Individual ad started\nplayer.addEventListener('yospaceAdStart', (ad) => {\n  console.log('Ad started:', ad.title);\n  console.log('Duration:', ad.duration);\n  console.log('Ad ID:', ad.id);\n});\n\n// Ad ended\nplayer.addEventListener('yospaceAdEnd', (ad) => {\n  console.log('Ad ended:', ad.id);\n});\n\n// Ad analytics\nplayer.addEventListener('yospaceAdTracking', (event) => {\n  console.log('Tracking event:', event.type);\n  console.log('URL:', event.url);\n});\n\n// Error\nplayer.addEventListener('yospaceError', (error) => {\n  console.error('Yospace error:', error);\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"timeline-management",children:"Timeline Management"}),"\n",(0,t.jsx)(n.p,{children:"Handle DVR and seeking:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"// Get timeline\nconst timeline = player.getYospaceTimeline();\n\nconsole.log('Content duration:', timeline.contentDuration);\nconsole.log('Total duration:', timeline.totalDuration); // Content + ads\nconsole.log('Ad breaks:', timeline.adBreaks);\n\n// Convert between timeline positions\nconst contentTime = 120; // 2 minutes\nconst playheadTime = player.contentTimeToPlayheadTime(contentTime);\n\nconsole.log('Content time:', contentTime);\nconsole.log('Playhead time:', playheadTime); // Includes ads\n"})}),"\n",(0,t.jsx)(n.h2,{id:"seeking-control",children:"Seeking Control"}),"\n",(0,t.jsx)(n.p,{children:"Control seeking behavior during ads:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"ads: {\n  enabled: true,\n  provider: 'yospace',\n  manifestUrl: '...',\n  seekThroughAds: false, // Prevent seeking through ads\n}\n\n// Seek event\nplayer.addEventListener('yospaceSeekBlocked', (position) => {\n  console.log('Seek blocked during ad at:', position);\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"ad-markers",children:"Ad Markers"}),"\n",(0,t.jsx)(n.p,{children:"Display ad markers on seekbar:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import React, { useState, useEffect } from 'react';\nimport { View } from 'react-native';\n\nfunction SeekBarWithAdMarkers({ player }) {\n  const [adMarkers, setAdMarkers] = useState([]);\n  const [duration, setDuration] = useState(0);\n\n  useEffect(() => {\n    const timeline = player.getYospaceTimeline();\n    setDuration(timeline.totalDuration);\n    \n    // Convert ad breaks to marker positions (0-1)\n    const markers = timeline.adBreaks.map(adBreak => ({\n      position: adBreak.position / timeline.totalDuration,\n      duration: adBreak.duration / timeline.totalDuration,\n    }));\n    \n    setAdMarkers(markers);\n  }, []);\n\n  return (\n    <View style={styles.seekBar}>\n      {/* Progress bar */}\n      \n      {/* Ad markers */}\n      {adMarkers.map((marker, index) => (\n        <View\n          key={index}\n          style={[\n            styles.adMarker,\n            {\n              left: `${marker.position * 100}%`,\n              width: `${marker.duration * 100}%`,\n            },\n          ]}\n        />\n      ))}\n    </View>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import React, { useState, useEffect } from 'react';\nimport { View, Text } from 'react-native';\nimport { useVideoPlayer, VideoView } from 'react-native-video';\n\nfunction YospaceVideoPlayer({ manifestUrl, isLive }) {\n  const [isInAdBreak, setIsInAdBreak] = useState(false);\n  const [currentAd, setCurrentAd] = useState(null);\n  const [timeline, setTimeline] = useState(null);\n\n  const player = useVideoPlayer({\n    source: {\n      uri: manifestUrl,\n      type: isLive ? 'yospace-live' : 'yospace',\n    },\n    ads: {\n      enabled: true,\n      provider: 'yospace',\n      isLive,\n      seekThroughAds: false,\n    },\n  });\n\n  useEffect(() => {\n    // Get timeline for ad markers\n    const tl = player.getYospaceTimeline();\n    setTimeline(tl);\n\n    // Ad break events\n    player.addEventListener('yospaceAdBreakStart', () => {\n      setIsInAdBreak(true);\n    });\n\n    player.addEventListener('yospaceAdBreakEnd', () => {\n      setIsInAdBreak(false);\n      setCurrentAd(null);\n    });\n\n    // Individual ad events\n    player.addEventListener('yospaceAdStart', (ad) => {\n      setCurrentAd({\n        title: ad.title,\n        duration: ad.duration,\n      });\n    });\n\n    return () => {\n      // Cleanup\n    };\n  }, []);\n\n  return (\n    <View style={styles.container}>\n      <VideoView player={player} style={styles.video} />\n      \n      {isInAdBreak && (\n        <View style={styles.adOverlay}>\n          <Text style={styles.adBadge}>Ad</Text>\n          {currentAd && (\n            <Text style={styles.adTitle}>{currentAd.title}</Text>\n          )}\n        </View>\n      )}\n\n      {timeline && (\n        <SeekBarWithAdMarkers player={player} timeline={timeline} />\n      )}\n    </View>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"advanced-features",children:"Advanced Features"}),"\n",(0,t.jsx)(n.h3,{id:"custom-analytics",children:"Custom Analytics"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"ads: {\n  enabled: true,\n  provider: 'yospace',\n  manifestUrl: '...',\n  analytics: {\n    enabled: true,\n    customParams: {\n      userId: 'user123',\n      deviceId: 'device456',\n    },\n  },\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ad-replacement",children:"Ad Replacement"}),"\n",(0,t.jsx)(n.p,{children:"Replace specific ads dynamically:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"player.addEventListener('yospaceAdBreakStart', (adBreak) => {\n  // Replace ads based on user preferences\n  if (userHasPremium) {\n    player.skipAdBreak(adBreak.id);\n  }\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"platform-support",children:"Platform Support"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Platform"}),(0,t.jsx)(n.th,{children:"VOD"}),(0,t.jsx)(n.th,{children:"Live"}),(0,t.jsx)(n.th,{children:"DVR"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"iOS"}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"\u2705"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Android"}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"\u2705"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Android TV"}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"\u2705"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Apple TV"}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"\u2705"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Timeline"})," - Use timeline for accurate UI"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Seek Control"})," - Prevent seeking through ads"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Ad Markers"})," - Show ad breaks on seekbar"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Error Handling"})," - Gracefully handle SSAI errors"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Analytics"})," - Track ad impressions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Testing"})," - Test with Yospace validation URLs"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,t.jsx)(n.p,{children:"Use Yospace validation streams:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"// VOD test\nconst TEST_VOD = 'https://csm-e-sdk-validation.bln1.yospace.com/csm/access/156611618/c2FtcGxlL21hc3Rlci5tM3U4?yo.br=true';\n\n// Live test\nconst TEST_LIVE = 'https://csm-e-sdk-validation.bln1.yospace.com/csm/access/207411697/c2FtcGxlL21hc3Rlci5tM3U4?yo.br=true';\n\nads: {\n  enabled: true,\n  provider: 'yospace',\n  manifestUrl: TEST_VOD,\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/react-native-video/docs/v7/players/advertising/getting-started",children:"Getting Started"})," - Ads overview"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/react-native-video/docs/v7/players/advertising/google-dai",children:"Google DAI"})," - Server-side ads ",(0,t.jsx)(n.em,{children:"(Pro)"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/react-native-video/docs/v7/players/events/useEvent",children:"Events"})," - Event handling"]}),"\n"]})]})}function p(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},56151:function(e,n,s){s.d(n,{R:()=>a,x:()=>d});var r=s(96540);let t={},i=r.createContext(t);function a(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);