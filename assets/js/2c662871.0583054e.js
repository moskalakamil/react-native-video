"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["3809"],{21645:function(n,e,o){o.r(e),o.d(e,{frontMatter:()=>r,toc:()=>s,default:()=>u,metadata:()=>i,assets:()=>d,contentTitle:()=>t});var i=JSON.parse('{"id":"extensions/downloading/configuration","title":"Configuration","description":"Configure download behavior, storage, networking, and performance settings.","source":"@site/docs/extensions/downloading/configuration.md","sourceDirName":"extensions/downloading","slug":"/extensions/downloading/configuration","permalink":"/react-native-video/docs/v7/extensions/downloading/configuration","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"DRM Downloads","permalink":"/react-native-video/docs/v7/extensions/downloading/drm-downloads"},"next":{"title":"Getting Started","permalink":"/react-native-video/docs/v7/extensions/uploading/getting-started"}}'),a=o(74848),l=o(56151);let r={},t="Configuration",d={},s=[{value:"Global Configuration",id:"global-configuration",level:2},{value:"Configuration Options",id:"configuration-options",level:2},{value:"maxConcurrentDownloads",id:"maxconcurrentdownloads",level:3},{value:"allowCellularDownload",id:"allowcellulardownload",level:3},{value:"directory",id:"directory",level:3},{value:"retryAttempts",id:"retryattempts",level:3},{value:"timeout",id:"timeout",level:3},{value:"chunkSize",id:"chunksize",level:3},{value:"Per-Download Configuration",id:"per-download-configuration",level:2},{value:"Storage Configuration",id:"storage-configuration",level:2},{value:"Storage Location",id:"storage-location",level:3},{value:"Default Location",id:"default-location",level:4},{value:"Custom Location",id:"custom-location",level:4},{value:"Platform-Specific Paths",id:"platform-specific-paths",level:4},{value:"Storage Limits",id:"storage-limits",level:3},{value:"Automatic Cleanup",id:"automatic-cleanup",level:3},{value:"Network Configuration",id:"network-configuration",level:2},{value:"WiFi Only",id:"wifi-only",level:3},{value:"Bandwidth Limit",id:"bandwidth-limit",level:3},{value:"Connection Type",id:"connection-type",level:3},{value:"Performance Configuration",id:"performance-configuration",level:2},{value:"Parallel Segment Downloads",id:"parallel-segment-downloads",level:3},{value:"Background Downloads",id:"background-downloads",level:3},{value:"Battery Optimization",id:"battery-optimization",level:3},{value:"Queue Configuration",id:"queue-configuration",level:2},{value:"Queue Behavior",id:"queue-behavior",level:3},{value:"Priority-Based Queue",id:"priority-based-queue",level:3},{value:"Error Handling Configuration",id:"error-handling-configuration",level:2},{value:"Retry Strategy",id:"retry-strategy",level:3},{value:"Error Callbacks",id:"error-callbacks",level:3},{value:"Notification Configuration",id:"notification-configuration",level:2},{value:"Android Notifications",id:"android-notifications",level:3},{value:"iOS Background Tasks",id:"ios-background-tasks",level:3},{value:"Complete Configuration Example",id:"complete-configuration-example",level:2},{value:"Runtime Configuration Changes",id:"runtime-configuration-changes",level:2},{value:"Get Current Configuration",id:"get-current-configuration",level:2},{value:"Reset Configuration",id:"reset-configuration",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"See Also",id:"see-also",level:2}];function c(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,a.jsx)(e.p,{children:"Configure download behavior, storage, networking, and performance settings."}),"\n",(0,a.jsx)(e.h2,{id:"global-configuration",children:"Global Configuration"}),"\n",(0,a.jsx)(e.p,{children:"Set default configuration for all downloads:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"import { VideoDownloader } from 'react-native-video';\n\nVideoDownloader.configure({\n  maxConcurrentDownloads: 3,\n  allowCellularDownload: false,\n  directory: 'MyApp/Videos',\n  retryAttempts: 3,\n  timeout: 30000,\n});\n"})}),"\n",(0,a.jsx)(e.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,a.jsx)(e.h3,{id:"maxconcurrentdownloads",children:"maxConcurrentDownloads"}),"\n",(0,a.jsx)(e.p,{children:"Maximum number of simultaneous downloads."}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  maxConcurrentDownloads: 2, // Download 2 videos at once\n});\n"})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Default"}),": ",(0,a.jsx)(e.code,{children:"3"})]}),"\n",(0,a.jsx)(e.h3,{id:"allowcellulardownload",children:"allowCellularDownload"}),"\n",(0,a.jsx)(e.p,{children:"Allow downloads over cellular/mobile data."}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  allowCellularDownload: true, // Allow mobile data\n});\n"})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Default"}),": ",(0,a.jsx)(e.code,{children:"false"})," (WiFi only)"]}),"\n",(0,a.jsx)(e.h3,{id:"directory",children:"directory"}),"\n",(0,a.jsx)(e.p,{children:"Custom download directory."}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  directory: 'MyApp/Videos/Courses',\n});\n"})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Default"}),": App's documents directory"]}),"\n",(0,a.jsx)(e.h3,{id:"retryattempts",children:"retryAttempts"}),"\n",(0,a.jsx)(e.p,{children:"Number of retry attempts on download failure."}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  retryAttempts: 5,\n});\n"})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Default"}),": ",(0,a.jsx)(e.code,{children:"3"})]}),"\n",(0,a.jsx)(e.h3,{id:"timeout",children:"timeout"}),"\n",(0,a.jsx)(e.p,{children:"Network timeout in milliseconds."}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  timeout: 60000, // 60 seconds\n});\n"})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Default"}),": ",(0,a.jsx)(e.code,{children:"30000"})," (30 seconds)"]}),"\n",(0,a.jsx)(e.h3,{id:"chunksize",children:"chunkSize"}),"\n",(0,a.jsx)(e.p,{children:"Download chunk size in bytes."}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  chunkSize: 1024 * 1024, // 1 MB chunks\n});\n"})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Default"}),": ",(0,a.jsx)(e.code,{children:"512 * 1024"})," (512 KB)"]}),"\n",(0,a.jsx)(e.h2,{id:"per-download-configuration",children:"Per-Download Configuration"}),"\n",(0,a.jsx)(e.p,{children:"Override global settings for specific downloads:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/video.mp4',\n  title: 'My Video',\n  \n  // Override global settings\n  allowCellularDownload: true,\n  directory: 'MyApp/SpecialVideos',\n  retryAttempts: 5,\n  timeout: 120000,\n});\n"})}),"\n",(0,a.jsx)(e.h2,{id:"storage-configuration",children:"Storage Configuration"}),"\n",(0,a.jsx)(e.h3,{id:"storage-location",children:"Storage Location"}),"\n",(0,a.jsx)(e.h4,{id:"default-location",children:"Default Location"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"// Uses app's default documents directory\nVideoDownloader.configure({\n  directory: undefined, // or omit\n});\n"})}),"\n",(0,a.jsx)(e.h4,{id:"custom-location",children:"Custom Location"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  directory: 'Downloads/Videos',\n});\n"})}),"\n",(0,a.jsx)(e.h4,{id:"platform-specific-paths",children:"Platform-Specific Paths"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"import { Platform } from 'react-native';\n\nVideoDownloader.configure({\n  directory: Platform.select({\n    ios: 'Library/Videos',\n    android: 'Movies',\n    default: 'Videos',\n  }),\n});\n"})}),"\n",(0,a.jsx)(e.h3,{id:"storage-limits",children:"Storage Limits"}),"\n",(0,a.jsx)(e.p,{children:"Set maximum storage usage:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  maxStorageSize: 5 * 1024 * 1024 * 1024, // 5 GB\n});\n"})}),"\n",(0,a.jsx)(e.h3,{id:"automatic-cleanup",children:"Automatic Cleanup"}),"\n",(0,a.jsx)(e.p,{children:"Remove oldest downloads when storage limit is reached:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  maxStorageSize: 5 * 1024 * 1024 * 1024,\n  autoCleanup: true,\n  cleanupStrategy: 'oldest', // or 'largest', 'least-viewed'\n});\n"})}),"\n",(0,a.jsx)(e.h2,{id:"network-configuration",children:"Network Configuration"}),"\n",(0,a.jsx)(e.h3,{id:"wifi-only",children:"WiFi Only"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  allowCellularDownload: false,\n  pauseOnCellular: true, // Auto-pause when switching to cellular\n});\n"})}),"\n",(0,a.jsx)(e.h3,{id:"bandwidth-limit",children:"Bandwidth Limit"}),"\n",(0,a.jsx)(e.p,{children:"Limit download bandwidth:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  maxBandwidth: 5 * 1024 * 1024, // 5 Mbps\n});\n"})}),"\n",(0,a.jsx)(e.h3,{id:"connection-type",children:"Connection Type"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  requiredConnectionType: 'wifi', // 'wifi', 'any', 'ethernet'\n});\n"})}),"\n",(0,a.jsx)(e.h2,{id:"performance-configuration",children:"Performance Configuration"}),"\n",(0,a.jsx)(e.h3,{id:"parallel-segment-downloads",children:"Parallel Segment Downloads"}),"\n",(0,a.jsx)(e.p,{children:"For HLS/DASH, download segments in parallel:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  maxParallelSegments: 4,\n});\n"})}),"\n",(0,a.jsx)(e.h3,{id:"background-downloads",children:"Background Downloads"}),"\n",(0,a.jsx)(e.p,{children:"Enable background downloads (iOS):"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  enableBackgroundDownloads: true,\n});\n"})}),"\n",(0,a.jsx)(e.h3,{id:"battery-optimization",children:"Battery Optimization"}),"\n",(0,a.jsx)(e.p,{children:"Pause downloads on low battery:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  pauseOnLowBattery: true,\n  lowBatteryThreshold: 20, // Pause below 20%\n});\n"})}),"\n",(0,a.jsx)(e.h2,{id:"queue-configuration",children:"Queue Configuration"}),"\n",(0,a.jsx)(e.h3,{id:"queue-behavior",children:"Queue Behavior"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  queueMode: 'fifo', // 'fifo' (first-in-first-out) or 'priority'\n  autoStart: true, // Automatically start queued downloads\n});\n"})}),"\n",(0,a.jsx)(e.h3,{id:"priority-based-queue",children:"Priority-Based Queue"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"const highPriorityDownload = await VideoDownloader.download({\n  url: 'https://example.com/important.mp4',\n  title: 'Important Video',\n  priority: 'high', // 'high', 'medium', 'low'\n});\n\nconst lowPriorityDownload = await VideoDownloader.download({\n  url: 'https://example.com/optional.mp4',\n  title: 'Optional Video',\n  priority: 'low',\n});\n"})}),"\n",(0,a.jsx)(e.h2,{id:"error-handling-configuration",children:"Error Handling Configuration"}),"\n",(0,a.jsx)(e.h3,{id:"retry-strategy",children:"Retry Strategy"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  retryAttempts: 3,\n  retryDelay: 5000, // Wait 5 seconds between retries\n  retryBackoff: 'exponential', // 'linear' or 'exponential'\n});\n"})}),"\n",(0,a.jsx)(e.h3,{id:"error-callbacks",children:"Error Callbacks"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  onError: (download, error) => {\n    console.error(`Download failed: ${download.title}`, error);\n    // Send to analytics\n  },\n  onRetry: (download, attempt) => {\n    console.log(`Retrying ${download.title}, attempt ${attempt}`);\n  },\n});\n"})}),"\n",(0,a.jsx)(e.h2,{id:"notification-configuration",children:"Notification Configuration"}),"\n",(0,a.jsx)(e.h3,{id:"android-notifications",children:"Android Notifications"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  showNotification: true,\n  notificationConfig: {\n    channelId: 'video_downloads',\n    channelName: 'Video Downloads',\n    icon: 'ic_download',\n    color: '#FF5722',\n    onTap: (download) => {\n      // Navigate to download screen\n    },\n  },\n});\n"})}),"\n",(0,a.jsx)(e.h3,{id:"ios-background-tasks",children:"iOS Background Tasks"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"VideoDownloader.configure({\n  enableBackgroundDownloads: true,\n  backgroundSessionIdentifier: 'com.myapp.downloads',\n});\n"})}),"\n",(0,a.jsx)(e.h2,{id:"complete-configuration-example",children:"Complete Configuration Example"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"import { VideoDownloader } from 'react-native-video';\nimport { Platform } from 'react-native';\n\n// Global configuration on app start\nVideoDownloader.configure({\n  // Concurrency\n  maxConcurrentDownloads: 3,\n  maxParallelSegments: 4,\n  \n  // Network\n  allowCellularDownload: false,\n  pauseOnCellular: true,\n  maxBandwidth: 10 * 1024 * 1024, // 10 Mbps\n  timeout: 60000,\n  \n  // Storage\n  directory: 'Downloads/Videos',\n  maxStorageSize: 10 * 1024 * 1024 * 1024, // 10 GB\n  autoCleanup: true,\n  cleanupStrategy: 'oldest',\n  \n  // Retry\n  retryAttempts: 3,\n  retryDelay: 5000,\n  retryBackoff: 'exponential',\n  \n  // Battery\n  pauseOnLowBattery: true,\n  lowBatteryThreshold: 20,\n  \n  // Queue\n  queueMode: 'priority',\n  autoStart: true,\n  \n  // Platform-specific\n  ...Platform.select({\n    ios: {\n      enableBackgroundDownloads: true,\n      backgroundSessionIdentifier: 'com.myapp.downloads',\n    },\n    android: {\n      showNotification: true,\n      notificationConfig: {\n        channelId: 'video_downloads',\n        channelName: 'Video Downloads',\n        icon: 'ic_download',\n      },\n    },\n  }),\n  \n  // Callbacks\n  onError: (download, error) => {\n    console.error('Download failed:', download.title, error);\n    // Send to analytics\n  },\n  onComplete: (download) => {\n    console.log('Download complete:', download.title);\n    // Update UI\n  },\n});\n"})}),"\n",(0,a.jsx)(e.h2,{id:"runtime-configuration-changes",children:"Runtime Configuration Changes"}),"\n",(0,a.jsx)(e.p,{children:"Update configuration at runtime:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"// Disable cellular when roaming\nimport NetInfo from '@react-native-community/netinfo';\n\nNetInfo.addEventListener(state => {\n  if (state.type === 'cellular' && state.details?.isConnectionExpensive) {\n    VideoDownloader.configure({\n      allowCellularDownload: false,\n    });\n  }\n});\n"})}),"\n",(0,a.jsx)(e.h2,{id:"get-current-configuration",children:"Get Current Configuration"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"const config = VideoDownloader.getConfiguration();\n\nconsole.log(config);\n// {\n//   maxConcurrentDownloads: 3,\n//   allowCellularDownload: false,\n//   ...\n// }\n"})}),"\n",(0,a.jsx)(e.h2,{id:"reset-configuration",children:"Reset Configuration"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"// Reset to defaults\nVideoDownloader.resetConfiguration();\n"})}),"\n",(0,a.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"WiFi Only"})," - Default to WiFi-only downloads to save user data"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Storage Limits"})," - Set reasonable storage limits"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Auto Cleanup"})," - Enable automatic cleanup for better UX"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Battery Aware"})," - Pause downloads on low battery"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Retry Logic"})," - Use exponential backoff for retries"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Notifications"})," - Show download progress in notifications"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Background Downloads"})," - Enable for better UX on iOS"]}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"see-also",children:"See Also"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"/react-native-video/docs/v7/extensions/downloading/getting-started",children:"Getting Started"})," - Download basics"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"/react-native-video/docs/v7/extensions/downloading/basic-downloads",children:"Basic Downloads"})," - MP4 downloads"]}),"\n"]})]})}function u(n={}){let{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(c,{...n})}):c(n)}},56151:function(n,e,o){o.d(e,{R:()=>r,x:()=>t});var i=o(96540);let a={},l=i.createContext(a);function r(n){let e=i.useContext(l);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:r(n.components),i.createElement(l.Provider,{value:e},n.children)}}}]);