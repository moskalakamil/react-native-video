"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["3174"],{71230:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>a,toc:()=>d,default:()=>h,metadata:()=>l,assets:()=>c,contentTitle:()=>r});var l=JSON.parse('{"id":"players/usage/low-latency","title":"Low Latency","description":"Minimize delay between live video capture and playback for real-time experiences.","source":"@site/docs/players/usage/low-latency.md","sourceDirName":"players/usage","slug":"/players/usage/low-latency","permalink":"/react-native-video/docs/v7/players/usage/low-latency","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Lifecycle","permalink":"/react-native-video/docs/v7/players/usage/lifecycle"},"next":{"title":"Text Tracks","permalink":"/react-native-video/docs/v7/players/usage/text-tracks"}}'),s=t(74848),i=t(56151);let a={},r="Low Latency",c={},d=[{value:"Overview",id:"overview",level:2},{value:"Supported Protocols",id:"supported-protocols",level:2},{value:"Low-Latency HLS (LL-HLS)",id:"low-latency-hls-ll-hls",level:3},{value:"Low-Latency DASH (LL-DASH)",id:"low-latency-dash-ll-dash",level:3},{value:"Configuration",id:"configuration",level:2},{value:"lowLatency",id:"lowlatency",level:3},{value:"Latency Control",id:"latency-control",level:2},{value:"getLatency()",id:"getlatency",level:3},{value:"seekToLive()",id:"seektolive",level:3},{value:"isAtLiveEdge",id:"isatliveedge",level:3},{value:"Events",id:"events",level:2},{value:"onLatencyChange",id:"onlatencychange",level:3},{value:"onLiveEdgeChange",id:"onliveedgechange",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Server Configuration",id:"1-server-configuration",level:3},{value:"2. Adaptive Latency",id:"2-adaptive-latency",level:3},{value:"3. Live Indicator UI",id:"3-live-indicator-ui",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"Platform Support",id:"platform-support",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"See Also",id:"see-also",level:2}];function o(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"low-latency",children:"Low Latency"})}),"\n",(0,s.jsx)(n.p,{children:"Minimize delay between live video capture and playback for real-time experiences."}),"\n",(0,s.jsx)(n.admonition,{title:"Pro Feature",type:"tip",children:(0,s.jsx)(n.p,{children:"Low Latency streaming is a Pro feature that enables sub-5-second latency for live content."})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Traditional live streaming has 15-45 second delays. Low Latency reduces this to:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Mode"}),(0,s.jsx)(n.th,{children:"Latency"}),(0,s.jsx)(n.th,{children:"Use Case"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Standard"}),(0,s.jsx)(n.td,{children:"15-45s"}),(0,s.jsx)(n.td,{children:"Regular broadcasts"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Low Latency"}),(0,s.jsx)(n.td,{children:"3-5s"}),(0,s.jsx)(n.td,{children:"Sports, news, events"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Ultra Low Latency"}),(0,s.jsx)(n.td,{children:"< 1s"}),(0,s.jsx)(n.td,{children:"Auctions, gaming, interactive"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"supported-protocols",children:"Supported Protocols"}),"\n",(0,s.jsx)(n.h3,{id:"low-latency-hls-ll-hls",children:"Low-Latency HLS (LL-HLS)"}),"\n",(0,s.jsx)(n.p,{children:"Apple's extension to HLS with reduced segment sizes and partial segments."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const player = useVideoPlayer({\n  uri: 'https://example.com/live/master.m3u8',\n  lowLatency: {\n    enabled: true,\n    targetLatency: 3, // seconds\n  },\n}, (_player) => {\n  _player.play();\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"low-latency-dash-ll-dash",children:"Low-Latency DASH (LL-DASH)"}),"\n",(0,s.jsx)(n.p,{children:"DASH-IF specification for low latency with chunked transfer encoding."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const player = useVideoPlayer({\n  uri: 'https://example.com/live/manifest.mpd',\n  lowLatency: {\n    enabled: true,\n    targetLatency: 2,\n    minLatency: 1,\n    maxLatency: 5,\n  },\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"lowlatency",children:"lowLatency"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"interface LowLatencyConfig {\n  enabled: boolean;\n  targetLatency?: number;\n  minLatency?: number;\n  maxLatency?: number;\n  catchupRate?: number;\n  fallbackRate?: number;\n}\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"boolean"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"false"})}),(0,s.jsx)(n.td,{children:"Enable low latency mode"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"targetLatency"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"3"})}),(0,s.jsx)(n.td,{children:"Target latency in seconds"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"minLatency"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"1"})}),(0,s.jsx)(n.td,{children:"Minimum allowed latency"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"maxLatency"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"8"})}),(0,s.jsx)(n.td,{children:"Maximum before catchup"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"catchupRate"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"1.1"})}),(0,s.jsx)(n.td,{children:"Playback speed to catch up"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"fallbackRate"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"0.95"})}),(0,s.jsx)(n.td,{children:"Playback speed when too close"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"latency-control",children:"Latency Control"}),"\n",(0,s.jsx)(n.h3,{id:"getlatency",children:"getLatency()"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"getLatency(): number;\n"})}),"\n",(0,s.jsx)(n.p,{children:"Get current live latency in seconds."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"useEvent(player, 'onProgress', () => {\n  const latency = player.getLatency();\n  console.log(`Current latency: ${latency}s`);\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"seektolive",children:"seekToLive()"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"seekToLive(): void;\n"})}),"\n",(0,s.jsx)(n.p,{children:"Jump to the live edge of the stream."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'<Button title="Go Live" onPress={() => player.seekToLive()} />\n'})}),"\n",(0,s.jsx)(n.h3,{id:"isatliveedge",children:"isAtLiveEdge"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"get isAtLiveEdge(): boolean;\n"})}),"\n",(0,s.jsx)(n.p,{children:"Whether playback is at the live edge."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const [atLive, setAtLive] = useState(true);\n\nuseEvent(player, 'onProgress', () => {\n  setAtLive(player.isAtLiveEdge);\n});\n\nreturn (\n  <View>\n    {!atLive && (\n      <Button title=\"\u23E9 Go Live\" onPress={() => player.seekToLive()} />\n    )}\n  </View>\n);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,s.jsx)(n.h3,{id:"onlatencychange",children:"onLatencyChange"}),"\n",(0,s.jsx)(n.p,{children:"Fired when latency changes significantly."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"useEvent(player, 'onLatencyChange', (data) => {\n  console.log('Latency:', data.latency);\n  console.log('Target:', data.targetLatency);\n  console.log('At live edge:', data.isAtLiveEdge);\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onliveedgechange",children:"onLiveEdgeChange"}),"\n",(0,s.jsx)(n.p,{children:"Fired when playback enters or leaves the live edge."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"useEvent(player, 'onLiveEdgeChange', (atLiveEdge) => {\n  if (!atLiveEdge) {\n    showToast('You are behind live');\n  }\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"1-server-configuration",children:"1. Server Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Low latency requires server support:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"# LL-HLS requirements\n- Part duration: 0.2-0.5s\n- Partial segments enabled\n- Preload hints\n- Delta updates\n\n# LL-DASH requirements  \n- Segment duration: 1-2s\n- Chunked transfer encoding\n- availabilityTimeOffset\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-adaptive-latency",children:"2. Adaptive Latency"}),"\n",(0,s.jsx)(n.p,{children:"Adjust target based on network conditions:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const player = useVideoPlayer({\n  uri: liveStreamUrl,\n  lowLatency: {\n    enabled: true,\n    targetLatency: 3,\n    minLatency: 2,\n    maxLatency: 6,\n    // Speed up playback slightly to catch up when behind\n    catchupRate: 1.05,\n    // Slow down when too close to live edge\n    fallbackRate: 0.95,\n  },\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-live-indicator-ui",children:"3. Live Indicator UI"}),"\n",(0,s.jsx)(n.p,{children:"Show users their position relative to live:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"function LiveIndicator({ player }) {\n  const [latency, setLatency] = useState(0);\n  const [atLive, setAtLive] = useState(true);\n\n  useEvent(player, 'onProgress', () => {\n    setLatency(player.getLatency());\n    setAtLive(player.isAtLiveEdge);\n  });\n\n  return (\n    <View style={styles.indicator}>\n      {atLive ? (\n        <View style={styles.liveBadge}>\n          <Text style={styles.liveText}>\u25CF LIVE</Text>\n        </View>\n      ) : (\n        <TouchableOpacity onPress={() => player.seekToLive()}>\n          <Text style={styles.behindText}>\n            {Math.round(latency)}s behind \u2022 Tap to go live\n          </Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import React, { useState } from 'react';\nimport { View, Text, TouchableOpacity } from 'react-native';\nimport { useVideoPlayer, useEvent, VideoView } from 'react-native-video';\n\nfunction LowLatencyPlayer({ streamUrl }) {\n  const player = useVideoPlayer({\n    uri: streamUrl,\n    lowLatency: {\n      enabled: true,\n      targetLatency: 3,\n      minLatency: 2,\n      maxLatency: 8,\n    },\n  }, (_player) => {\n    _player.play();\n  });\n\n  const [latency, setLatency] = useState(0);\n  const [atLive, setAtLive] = useState(true);\n\n  useEvent(player, 'onProgress', () => {\n    setLatency(player.getLatency());\n    setAtLive(player.isAtLiveEdge);\n  });\n\n  return (\n    <View>\n      <VideoView player={player} style={{ width: '100%', height: 300 }} />\n      \n      <View style={styles.controls}>\n        {atLive ? (\n          <View style={styles.liveBadge}>\n            <Text style={styles.liveText}>\u25CF LIVE</Text>\n          </View>\n        ) : (\n          <TouchableOpacity \n            style={styles.goLiveButton}\n            onPress={() => player.seekToLive()}\n          >\n            <Text>\u23E9 Go Live ({Math.round(latency)}s behind)</Text>\n          </TouchableOpacity>\n        )}\n        \n        <Text style={styles.latencyText}>\n          Latency: {latency.toFixed(1)}s\n        </Text>\n      </View>\n    </View>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"platform-support",children:"Platform Support"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feature"}),(0,s.jsx)(n.th,{children:"iOS"}),(0,s.jsx)(n.th,{children:"Android"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"LL-HLS"}),(0,s.jsx)(n.td,{children:"\u2705 iOS 14+"}),(0,s.jsx)(n.td,{children:"\u2705 ExoPlayer"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"LL-DASH"}),(0,s.jsx)(n.td,{children:"\u274C"}),(0,s.jsx)(n.td,{children:"\u2705 ExoPlayer"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"getLatency()"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"seekToLive()"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Auto catchup"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\u2705"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Live Sports"})," - Sync with real-time action"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Live Auctions"})," - Fair bidding with minimal delay"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Interactive Shows"})," - Real-time audience participation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Live Gaming"})," - Watch esports with crowd"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Breaking News"})," - Immediate updates"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Live Commerce"})," - Shop during live streams"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/react-native-video/docs/v7/players/usage/source",children:"Source"})," - Video configuration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/react-native-video/docs/v7/players/usage/playback",children:"Playback"})," - Playback controls"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/react-native-video/docs/v7/players/events/useEvent",children:"Events"})," - Event handling"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},56151:function(e,n,t){t.d(n,{R:()=>a,x:()=>r});var l=t(96540);let s={},i=l.createContext(s);function a(e){let n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);