"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["3306"],{82255:function(e,n,a){a.r(n),a.d(n,{frontMatter:()=>i,toc:()=>r,default:()=>m,metadata:()=>t,assets:()=>l,contentTitle:()=>s});var t=JSON.parse('{"id":"extensions/downloading/metadata","title":"Metadata","description":"Attach custom data to downloads for organization and UI display.","source":"@site/docs/extensions/downloading/metadata.md","sourceDirName":"extensions/downloading","slug":"/extensions/downloading/metadata","permalink":"/react-native-video/docs/v7/extensions/downloading/metadata","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Track Selection","permalink":"/react-native-video/docs/v7/extensions/downloading/track-selection"},"next":{"title":"DRM Downloads","permalink":"/react-native-video/docs/v7/extensions/downloading/drm-downloads"}}'),o=a(74848),d=a(56151);let i={},s="Metadata",l={},r=[{value:"Overview",id:"overview",level:2},{value:"Basic Metadata",id:"basic-metadata",level:2},{value:"Common Metadata Fields",id:"common-metadata-fields",level:2},{value:"Course/Educational Content",id:"courseeducational-content",level:3},{value:"Movies/Entertainment",id:"moviesentertainment",level:3},{value:"User-Generated Content",id:"user-generated-content",level:3},{value:"Retrieving Metadata",id:"retrieving-metadata",level:2},{value:"Get Download with Metadata",id:"get-download-with-metadata",level:3},{value:"List Downloads with Metadata",id:"list-downloads-with-metadata",level:3},{value:"Filtering by Metadata",id:"filtering-by-metadata",level:2},{value:"By Course",id:"by-course",level:3},{value:"By Tag",id:"by-tag",level:3},{value:"By Custom Field",id:"by-custom-field",level:3},{value:"Updating Metadata",id:"updating-metadata",level:2},{value:"Displaying Metadata in UI",id:"displaying-metadata-in-ui",level:2},{value:"Download List with Thumbnails",id:"download-list-with-thumbnails",level:3},{value:"Grouped by Category",id:"grouped-by-category",level:3},{value:"Searchable Metadata",id:"searchable-metadata",level:2},{value:"Sorting by Metadata",id:"sorting-by-metadata",level:2},{value:"Complete Example",id:"complete-example",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"metadata",children:"Metadata"})}),"\n",(0,o.jsx)(n.p,{children:"Attach custom data to downloads for organization and UI display."}),"\n",(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(n.p,{children:"Metadata allows you to:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Store custom information with downloads"}),"\n",(0,o.jsx)(n.li,{children:"Organize downloads by category, course, etc."}),"\n",(0,o.jsx)(n.li,{children:"Display thumbnails and descriptions"}),"\n",(0,o.jsx)(n.li,{children:"Track download context (user, timestamp, etc.)"}),"\n",(0,o.jsx)(n.li,{children:"Build rich offline libraries"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"basic-metadata",children:"Basic Metadata"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"import { VideoDownloader } from 'react-native-video';\n\nconst download = await VideoDownloader.download({\n  url: 'https://example.com/video.mp4',\n  title: 'Introduction to React Native',\n  metadata: {\n    description: 'Learn the basics of React Native development',\n    thumbnail: 'https://example.com/thumbnails/intro.jpg',\n    duration: 600, // seconds\n    instructor: 'John Doe',\n  },\n});\n"})}),"\n",(0,o.jsx)(n.h2,{id:"common-metadata-fields",children:"Common Metadata Fields"}),"\n",(0,o.jsx)(n.h3,{id:"courseeducational-content",children:"Course/Educational Content"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/lecture.mp4',\n  title: 'Lecture 5: State Management',\n  metadata: {\n    courseId: 'react-native-101',\n    courseName: 'React Native Fundamentals',\n    chapterId: '3',\n    chapterName: 'Advanced Concepts',\n    lessonNumber: 5,\n    instructor: 'Jane Smith',\n    duration: 1800,\n    thumbnail: 'https://cdn.example.com/thumbs/lecture5.jpg',\n    tags: ['react', 'state', 'hooks'],\n    difficulty: 'intermediate',\n  },\n});\n"})}),"\n",(0,o.jsx)(n.h3,{id:"moviesentertainment",children:"Movies/Entertainment"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/movie.mp4',\n  title: 'The Matrix',\n  metadata: {\n    genre: ['Action', 'Sci-Fi'],\n    year: 1999,\n    director: 'Wachowski Brothers',\n    cast: ['Keanu Reeves', 'Laurence Fishburne'],\n    rating: 'R',\n    duration: 8160, // seconds\n    thumbnail: 'https://cdn.example.com/posters/matrix.jpg',\n    synopsis: 'A computer hacker learns from mysterious rebels...',\n    imdbId: 'tt0133093',\n  },\n});\n"})}),"\n",(0,o.jsx)(n.h3,{id:"user-generated-content",children:"User-Generated Content"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/user-video.mp4',\n  title: 'My Vacation 2024',\n  metadata: {\n    userId: 'user123',\n    uploadDate: '2024-01-15',\n    location: 'Paris, France',\n    tags: ['vacation', 'travel', 'europe'],\n    thumbnail: 'https://example.com/thumbs/vacation.jpg',\n    isPrivate: true,\n    views: 0,\n  },\n});\n"})}),"\n",(0,o.jsx)(n.h2,{id:"retrieving-metadata",children:"Retrieving Metadata"}),"\n",(0,o.jsx)(n.h3,{id:"get-download-with-metadata",children:"Get Download with Metadata"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloadManager.findById(downloadId);\n\nconsole.log(download.metadata);\n// {\n//   courseId: 'react-native-101',\n//   chapterName: 'Advanced Concepts',\n//   ...\n// }\n"})}),"\n",(0,o.jsx)(n.h3,{id:"list-downloads-with-metadata",children:"List Downloads with Metadata"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const downloads = await VideoDownloadManager.getAll();\n\ndownloads.forEach(download => {\n  console.log(download.title);\n  console.log(download.metadata);\n});\n"})}),"\n",(0,o.jsx)(n.h2,{id:"filtering-by-metadata",children:"Filtering by Metadata"}),"\n",(0,o.jsx)(n.h3,{id:"by-course",children:"By Course"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const downloads = await VideoDownloadManager.getAll();\n\nconst courseDownloads = downloads.filter(\n  d => d.metadata?.courseId === 'react-native-101'\n);\n"})}),"\n",(0,o.jsx)(n.h3,{id:"by-tag",children:"By Tag"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const reactDownloads = downloads.filter(\n  d => d.metadata?.tags?.includes('react')\n);\n"})}),"\n",(0,o.jsx)(n.h3,{id:"by-custom-field",children:"By Custom Field"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const recentDownloads = downloads.filter(\n  d => {\n    const date = new Date(d.metadata?.downloadDate);\n    const weekAgo = Date.now() - 7 * 24 * 60 * 60 * 1000;\n    return date.getTime() > weekAgo;\n  }\n);\n"})}),"\n",(0,o.jsx)(n.h2,{id:"updating-metadata",children:"Updating Metadata"}),"\n",(0,o.jsx)(n.p,{children:"Update metadata after download creation:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloadManager.findById(downloadId);\n\nawait download.updateMetadata({\n  ...download.metadata,\n  views: (download.metadata?.views || 0) + 1,\n  lastViewed: new Date().toISOString(),\n});\n"})}),"\n",(0,o.jsx)(n.h2,{id:"displaying-metadata-in-ui",children:"Displaying Metadata in UI"}),"\n",(0,o.jsx)(n.h3,{id:"download-list-with-thumbnails",children:"Download List with Thumbnails"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"import React from 'react';\nimport { FlatList, Image, Text, View } from 'react-native';\n\nfunction DownloadList({ downloads }) {\n  return (\n    <FlatList\n      data={downloads}\n      renderItem={({ item }) => (\n        <View style={styles.item}>\n          <Image \n            source={{ uri: item.metadata?.thumbnail }}\n            style={styles.thumbnail}\n          />\n          <View style={styles.info}>\n            <Text style={styles.title}>{item.title}</Text>\n            <Text style={styles.description}>\n              {item.metadata?.description}\n            </Text>\n            <Text style={styles.duration}>\n              {formatDuration(item.metadata?.duration)}\n            </Text>\n          </View>\n        </View>\n      )}\n    />\n  );\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"grouped-by-category",children:"Grouped by Category"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"function GroupedDownloads({ downloads }) {\n  const grouped = downloads.reduce((acc, download) => {\n    const category = download.metadata?.category || 'Uncategorized';\n    if (!acc[category]) {\n      acc[category] = [];\n    }\n    acc[category].push(download);\n    return acc;\n  }, {});\n\n  return (\n    <View>\n      {Object.entries(grouped).map(([category, items]) => (\n        <View key={category}>\n          <Text style={styles.categoryHeader}>{category}</Text>\n          <FlatList\n            data={items}\n            renderItem={({ item }) => <DownloadItem download={item} />}\n          />\n        </View>\n      ))}\n    </View>\n  );\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"searchable-metadata",children:"Searchable Metadata"}),"\n",(0,o.jsx)(n.p,{children:"Make downloads searchable by metadata:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"function searchDownloads(query, downloads) {\n  const lowerQuery = query.toLowerCase();\n  \n  return downloads.filter(download => {\n    // Search title\n    if (download.title.toLowerCase().includes(lowerQuery)) {\n      return true;\n    }\n    \n    // Search description\n    if (download.metadata?.description?.toLowerCase().includes(lowerQuery)) {\n      return true;\n    }\n    \n    // Search tags\n    if (download.metadata?.tags?.some(tag => \n      tag.toLowerCase().includes(lowerQuery)\n    )) {\n      return true;\n    }\n    \n    return false;\n  });\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"sorting-by-metadata",children:"Sorting by Metadata"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"// Sort by duration\nconst sortedByDuration = [...downloads].sort((a, b) => \n  (a.metadata?.duration || 0) - (b.metadata?.duration || 0)\n);\n\n// Sort by date\nconst sortedByDate = [...downloads].sort((a, b) => \n  new Date(b.metadata?.uploadDate) - new Date(a.metadata?.uploadDate)\n);\n\n// Sort by lesson number\nconst sortedByLesson = [...downloads].sort((a, b) =>\n  (a.metadata?.lessonNumber || 0) - (b.metadata?.lessonNumber || 0)\n);\n"})}),"\n",(0,o.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"import React, { useState, useEffect } from 'react';\nimport { View, FlatList, Image, Text, TextInput } from 'react-native';\nimport { VideoDownloadManager } from 'react-native-video';\n\nfunction DownloadLibrary() {\n  const [downloads, setDownloads] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filter, setFilter] = useState('all');\n\n  useEffect(() => {\n    loadDownloads();\n  }, []);\n\n  const loadDownloads = async () => {\n    const all = await VideoDownloadManager.getAll();\n    setDownloads(all);\n  };\n\n  const filteredDownloads = downloads\n    .filter(d => {\n      // Filter by category\n      if (filter !== 'all' && d.metadata?.category !== filter) {\n        return false;\n      }\n      \n      // Filter by search\n      if (searchQuery) {\n        const query = searchQuery.toLowerCase();\n        return (\n          d.title.toLowerCase().includes(query) ||\n          d.metadata?.description?.toLowerCase().includes(query) ||\n          d.metadata?.tags?.some(tag => tag.toLowerCase().includes(query))\n        );\n      }\n      \n      return true;\n    })\n    .sort((a, b) => \n      // Sort by lesson number if available\n      (a.metadata?.lessonNumber || 999) - (b.metadata?.lessonNumber || 999)\n    );\n\n  return (\n    <View>\n      <TextInput\n        placeholder=\"Search downloads...\"\n        value={searchQuery}\n        onChangeText={setSearchQuery}\n      />\n      \n      <FlatList\n        data={filteredDownloads}\n        renderItem={({ item }) => (\n          <View style={styles.item}>\n            {item.metadata?.thumbnail && (\n              <Image\n                source={{ uri: item.metadata.thumbnail }}\n                style={styles.thumbnail}\n              />\n            )}\n            <View style={styles.info}>\n              <Text style={styles.title}>{item.title}</Text>\n              {item.metadata?.description && (\n                <Text style={styles.description}>\n                  {item.metadata.description}\n                </Text>\n              )}\n              {item.metadata?.duration && (\n                <Text style={styles.duration}>\n                  {Math.floor(item.metadata.duration / 60)} min\n                </Text>\n              )}\n              {item.metadata?.tags && (\n                <View style={styles.tags}>\n                  {item.metadata.tags.map(tag => (\n                    <Text key={tag} style={styles.tag}>{tag}</Text>\n                  ))}\n                </View>\n              )}\n            </View>\n          </View>\n        )}\n      />\n    </View>\n  );\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Consistent Structure"})," - Use consistent metadata fields across similar content types"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Thumbnails"})," - Always include thumbnails for better UX"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Search Keywords"})," - Add relevant tags for searchability"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Timestamps"})," - Include creation/download/update timestamps"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"File Size"})," - Store file size for storage management UI"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Validation"})," - Validate metadata before saving"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/downloading/basic-downloads",children:"Basic Downloads"})," - Download API basics"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/downloading/configuration",children:"Configuration"})," - Download configuration"]}),"\n"]})]})}function m(e={}){let{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},56151:function(e,n,a){a.d(n,{R:()=>i,x:()=>s});var t=a(96540);let o={},d=t.createContext(o);function i(e){let n=t.useContext(d);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(d.Provider,{value:n},e.children)}}}]);