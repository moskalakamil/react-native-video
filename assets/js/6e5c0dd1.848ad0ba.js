"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["714"],{98006:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>r,toc:()=>o,default:()=>h,metadata:()=>c,assets:()=>t,contentTitle:()=>s});var c=JSON.parse('{"id":"extensions/caching/configuration","title":"Configuration","description":"Configure video caching behavior and storage limits.","source":"@site/docs/extensions/caching/configuration.md","sourceDirName":"extensions/caching","slug":"/extensions/caching/configuration","permalink":"/react-native-video/docs/v7/extensions/caching/configuration","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Getting Started","permalink":"/react-native-video/docs/v7/extensions/caching/getting-started"},"next":{"title":"Caching Strategies","permalink":"/react-native-video/docs/v7/extensions/caching/strategies"}}'),a=i(74848),l=i(56151);let r={},s="Configuration",t={},o=[{value:"Global Configuration",id:"global-configuration",level:2},{value:"Storage Settings",id:"storage-settings",level:2},{value:"maxCacheSize",id:"maxcachesize",level:3},{value:"cacheLocation",id:"cachelocation",level:3},{value:"cacheDirectory",id:"cachedirectory",level:3},{value:"Caching Behavior",id:"caching-behavior",level:2},{value:"defaultCachePercentage",id:"defaultcachepercentage",level:3},{value:"enableBackgroundCaching",id:"enablebackgroundcaching",level:3},{value:"cacheOnWifiOnly",id:"cacheonwifionly",level:3},{value:"allowCellularCaching",id:"allowcellularcaching",level:3},{value:"Management Settings",id:"management-settings",level:2},{value:"autoCleanup",id:"autocleanup",level:3},{value:"maxCacheAge",id:"maxcacheage",level:3},{value:"cleanupThreshold",id:"cleanupthreshold",level:3},{value:"cleanupStrategy",id:"cleanupstrategy",level:3},{value:"Performance Settings",id:"performance-settings",level:2},{value:"maxConcurrentCaches",id:"maxconcurrentcaches",level:3},{value:"chunkSize",id:"chunksize",level:3},{value:"bufferSize",id:"buffersize",level:3},{value:"Per-Video Configuration",id:"per-video-configuration",level:2},{value:"Priority Levels",id:"priority-levels",level:2},{value:"Network Policies",id:"network-policies",level:2},{value:"WiFi-Only Caching",id:"wifi-only-caching",level:3},{value:"Cellular with Limit",id:"cellular-with-limit",level:3},{value:"Adaptive Caching",id:"adaptive-caching",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"Platform-Specific Configuration",id:"platform-specific-configuration",level:2},{value:"iOS",id:"ios",level:3},{value:"Android",id:"android",level:3},{value:"Reset Configuration",id:"reset-configuration",level:2},{value:"Get Current Configuration",id:"get-current-configuration",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"See Also",id:"see-also",level:2}];function d(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,a.jsx)(n.p,{children:"Configure video caching behavior and storage limits."}),"\n",(0,a.jsx)(n.admonition,{title:"Pro Feature - Coming Soon",type:"tip",children:(0,a.jsx)(n.p,{children:"Video caching is a Pro feature currently in development."})}),"\n",(0,a.jsx)(n.h2,{id:"global-configuration",children:"Global Configuration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { VideoCache } from 'react-native-video';\n\nVideoCache.configure({\n  // Storage\n  maxCacheSize: 500 * 1024 * 1024, // 500 MB\n  cacheLocation: 'auto', // 'auto', 'internal', 'external'\n  \n  // Caching behavior\n  defaultCachePercentage: 50,\n  enableBackgroundCaching: true,\n  cacheOnWifiOnly: true,\n  \n  // Management\n  autoCleanup: true,\n  maxCacheAge: 7 * 24 * 60 * 60 * 1000, // 7 days\n  cleanupThreshold: 0.9, // Clean when 90% full\n  \n  // Performance\n  maxConcurrentCaches: 2,\n  chunkSize: 1 * 1024 * 1024, // 1 MB\n});\n"})}),"\n",(0,a.jsx)(n.h2,{id:"storage-settings",children:"Storage Settings"}),"\n",(0,a.jsx)(n.h3,{id:"maxcachesize",children:"maxCacheSize"}),"\n",(0,a.jsx)(n.p,{children:"Maximum total cache size in bytes."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  maxCacheSize: 1024 * 1024 * 1024, // 1 GB\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Default"}),": ",(0,a.jsx)(n.code,{children:"500 * 1024 * 1024"})," (500 MB)"]}),"\n",(0,a.jsx)(n.h3,{id:"cachelocation",children:"cacheLocation"}),"\n",(0,a.jsx)(n.p,{children:"Where to store cached videos."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  cacheLocation: 'auto', // Let SDK choose best location\n});\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Options:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"'auto'"})," - SDK chooses automatically"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"'internal'"})," - Internal storage (always available)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"'external'"})," - External/SD card (if available)"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Default"}),": ",(0,a.jsx)(n.code,{children:"'auto'"})]}),"\n",(0,a.jsx)(n.h3,{id:"cachedirectory",children:"cacheDirectory"}),"\n",(0,a.jsx)(n.p,{children:"Custom cache directory path."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  cacheDirectory: '/custom/cache/path',\n});\n"})}),"\n",(0,a.jsx)(n.h2,{id:"caching-behavior",children:"Caching Behavior"}),"\n",(0,a.jsx)(n.h3,{id:"defaultcachepercentage",children:"defaultCachePercentage"}),"\n",(0,a.jsx)(n.p,{children:"Default percentage to cache when not specified."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  defaultCachePercentage: 30, // Cache first 30%\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Default"}),": ",(0,a.jsx)(n.code,{children:"50"})]}),"\n",(0,a.jsx)(n.h3,{id:"enablebackgroundcaching",children:"enableBackgroundCaching"}),"\n",(0,a.jsx)(n.p,{children:"Enable background caching when app is idle."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  enableBackgroundCaching: true,\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Default"}),": ",(0,a.jsx)(n.code,{children:"true"})]}),"\n",(0,a.jsx)(n.h3,{id:"cacheonwifionly",children:"cacheOnWifiOnly"}),"\n",(0,a.jsx)(n.p,{children:"Only cache on WiFi connections."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  cacheOnWifiOnly: true,\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Default"}),": ",(0,a.jsx)(n.code,{children:"true"})]}),"\n",(0,a.jsx)(n.h3,{id:"allowcellularcaching",children:"allowCellularCaching"}),"\n",(0,a.jsx)(n.p,{children:"Allow caching on cellular networks."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  allowCellularCaching: false,\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Default"}),": ",(0,a.jsx)(n.code,{children:"false"})]}),"\n",(0,a.jsx)(n.h2,{id:"management-settings",children:"Management Settings"}),"\n",(0,a.jsx)(n.h3,{id:"autocleanup",children:"autoCleanup"}),"\n",(0,a.jsx)(n.p,{children:"Automatically clean up old cache."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  autoCleanup: true,\n  maxCacheAge: 14 * 24 * 60 * 60 * 1000, // 14 days\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Default"}),": ",(0,a.jsx)(n.code,{children:"true"})]}),"\n",(0,a.jsx)(n.h3,{id:"maxcacheage",children:"maxCacheAge"}),"\n",(0,a.jsx)(n.p,{children:"Maximum age of cache before cleanup (in milliseconds)."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  maxCacheAge: 30 * 24 * 60 * 60 * 1000, // 30 days\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Default"}),": ",(0,a.jsx)(n.code,{children:"7 * 24 * 60 * 60 * 1000"})," (7 days)"]}),"\n",(0,a.jsx)(n.h3,{id:"cleanupthreshold",children:"cleanupThreshold"}),"\n",(0,a.jsx)(n.p,{children:"Storage usage threshold to trigger cleanup (0-1)."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  cleanupThreshold: 0.95, // Clean when 95% full\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Default"}),": ",(0,a.jsx)(n.code,{children:"0.9"})," (90%)"]}),"\n",(0,a.jsx)(n.h3,{id:"cleanupstrategy",children:"cleanupStrategy"}),"\n",(0,a.jsx)(n.p,{children:"Strategy for removing cached videos."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  cleanupStrategy: 'lru', // 'lru', 'lfu', 'fifo', 'size'\n});\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Options:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"'lru'"})," - Least Recently Used"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"'lfu'"})," - Least Frequently Used"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"'fifo'"})," - First In, First Out"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"'size'"})," - Largest files first"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Default"}),": ",(0,a.jsx)(n.code,{children:"'lru'"})]}),"\n",(0,a.jsx)(n.h2,{id:"performance-settings",children:"Performance Settings"}),"\n",(0,a.jsx)(n.h3,{id:"maxconcurrentcaches",children:"maxConcurrentCaches"}),"\n",(0,a.jsx)(n.p,{children:"Maximum number of simultaneous cache operations."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  maxConcurrentCaches: 3,\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Default"}),": ",(0,a.jsx)(n.code,{children:"2"})]}),"\n",(0,a.jsx)(n.h3,{id:"chunksize",children:"chunkSize"}),"\n",(0,a.jsx)(n.p,{children:"Size of chunks for caching (in bytes)."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  chunkSize: 2 * 1024 * 1024, // 2 MB\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Default"}),": ",(0,a.jsx)(n.code,{children:"1 * 1024 * 1024"})," (1 MB)"]}),"\n",(0,a.jsx)(n.h3,{id:"buffersize",children:"bufferSize"}),"\n",(0,a.jsx)(n.p,{children:"Buffer size for read/write operations."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  bufferSize: 512 * 1024, // 512 KB\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Default"}),": ",(0,a.jsx)(n.code,{children:"256 * 1024"})," (256 KB)"]}),"\n",(0,a.jsx)(n.h2,{id:"per-video-configuration",children:"Per-Video Configuration"}),"\n",(0,a.jsx)(n.p,{children:"Override global settings per video:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"await VideoCache.cache({\n  url: 'https://example.com/video.mp4',\n  \n  // Override defaults\n  percentage: 75, // Cache 75% instead of default\n  priority: 'high',\n  allowCellular: true, // Override WiFi-only\n  neverExpire: true, // Don't auto-cleanup this video\n});\n"})}),"\n",(0,a.jsx)(n.h2,{id:"priority-levels",children:"Priority Levels"}),"\n",(0,a.jsx)(n.p,{children:"Set caching priority:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"await VideoCache.cache({\n  url: 'https://example.com/video.mp4',\n  percentage: 50,\n  priority: 'high', // 'high', 'medium', 'low'\n});\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Priority affects:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Queue position"}),"\n",(0,a.jsx)(n.li,{children:"Background caching order"}),"\n",(0,a.jsx)(n.li,{children:"Cleanup resistance"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"network-policies",children:"Network Policies"}),"\n",(0,a.jsx)(n.h3,{id:"wifi-only-caching",children:"WiFi-Only Caching"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  cacheOnWifiOnly: true,\n  allowCellularCaching: false,\n});\n"})}),"\n",(0,a.jsx)(n.h3,{id:"cellular-with-limit",children:"Cellular with Limit"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  allowCellularCaching: true,\n  cellularCacheLimit: 50 * 1024 * 1024, // 50 MB max\n});\n"})}),"\n",(0,a.jsx)(n.h3,{id:"adaptive-caching",children:"Adaptive Caching"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  adaptiveStrategy: true, // Adjust based on conditions\n  wifiCachePercentage: 75, // Cache more on WiFi\n  cellularCachePercentage: 25, // Cache less on cellular\n});\n"})}),"\n",(0,a.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { VideoCache } from 'react-native-video';\n\n// Production configuration\nVideoCache.configure({\n  // Storage - 1 GB max\n  maxCacheSize: 1024 * 1024 * 1024,\n  cacheLocation: 'auto',\n  \n  // Behavior - WiFi-only, 50% default\n  defaultCachePercentage: 50,\n  enableBackgroundCaching: true,\n  cacheOnWifiOnly: true,\n  \n  // Management - Auto-cleanup after 14 days\n  autoCleanup: true,\n  maxCacheAge: 14 * 24 * 60 * 60 * 1000,\n  cleanupThreshold: 0.9,\n  cleanupStrategy: 'lru',\n  \n  // Performance - 2 concurrent, 2MB chunks\n  maxConcurrentCaches: 2,\n  chunkSize: 2 * 1024 * 1024,\n});\n"})}),"\n",(0,a.jsx)(n.h2,{id:"platform-specific-configuration",children:"Platform-Specific Configuration"}),"\n",(0,a.jsx)(n.h3,{id:"ios",children:"iOS"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  ios: {\n    useDocumentsDirectory: false, // Use caches directory\n    protectFromBackup: true,\n    urlCacheSize: 50 * 1024 * 1024, // 50 MB URL cache\n  },\n});\n"})}),"\n",(0,a.jsx)(n.h3,{id:"android",children:"Android"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.configure({\n  android: {\n    preferExternal: true, // Prefer external storage\n    useMediaStore: false,\n    cachePartition: 'cache', // 'cache' or 'data'\n  },\n});\n"})}),"\n",(0,a.jsx)(n.h2,{id:"reset-configuration",children:"Reset Configuration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"VideoCache.resetConfiguration();\n"})}),"\n",(0,a.jsx)(n.h2,{id:"get-current-configuration",children:"Get Current Configuration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"const config = VideoCache.getConfiguration();\nconsole.log(config);\n"})}),"\n",(0,a.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Storage Limits"})," - Set based on device/user needs"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"WiFi-Only"})," - Enable for cellular data savings"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Auto Cleanup"})," - Keep cache fresh and manageable"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Priority System"})," - Use for important content"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Adaptive Strategy"})," - Better user experience"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Platform-Specific"})," - Optimize per platform"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/caching/getting-started",children:"Getting Started"})," - Video caching basics"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/caching/strategies",children:"Strategies"})," - Caching strategies"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/caching/management",children:"Cache Management"})," - Manage cached content"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/caching/storage",children:"Storage"})," - Storage management"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},56151:function(e,n,i){i.d(n,{R:()=>r,x:()=>s});var c=i(96540);let a={},l=c.createContext(a);function r(e){let n=c.useContext(l);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),c.createElement(l.Provider,{value:n},e.children)}}}]);