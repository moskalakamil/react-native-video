"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["2083"],{56781:function(e,n,a){a.r(n),a.d(n,{frontMatter:()=>s,toc:()=>d,default:()=>u,metadata:()=>t,assets:()=>r,contentTitle:()=>c});var t=JSON.parse('{"id":"extensions/downloading/track-selection","title":"Track Selection","description":"Select specific audio and subtitle tracks when downloading adaptive streaming content.","source":"@site/docs/extensions/downloading/track-selection.md","sourceDirName":"extensions/downloading","slug":"/extensions/downloading/track-selection","permalink":"/react-native-video/docs/v7/extensions/downloading/track-selection","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Adaptive Streaming Downloads","permalink":"/react-native-video/docs/v7/extensions/downloading/adaptive-streaming"},"next":{"title":"Metadata","permalink":"/react-native-video/docs/v7/extensions/downloading/metadata"}}'),l=a(74848),i=a(56151);let s={},c="Track Selection",r={},d=[{value:"Overview",id:"overview",level:2},{value:"Get Available Tracks",id:"get-available-tracks",level:2},{value:"Audio Track Selection",id:"audio-track-selection",level:2},{value:"Select Single Audio Track",id:"select-single-audio-track",level:3},{value:"Select Multiple Audio Tracks",id:"select-multiple-audio-tracks",level:3},{value:"Select by Track ID",id:"select-by-track-id",level:3},{value:"Audio Track Criteria",id:"audio-track-criteria",level:3},{value:"Subtitle Track Selection",id:"subtitle-track-selection",level:2},{value:"Select Single Subtitle Track",id:"select-single-subtitle-track",level:3},{value:"Select Multiple Subtitle Tracks",id:"select-multiple-subtitle-tracks",level:3},{value:"Subtitle Track Criteria",id:"subtitle-track-criteria",level:3},{value:"Default Tracks",id:"default-tracks",level:2},{value:"Set Default Audio Track",id:"set-default-audio-track",level:3},{value:"Set Default Subtitle Track",id:"set-default-subtitle-track",level:3},{value:"Advanced Selection",id:"advanced-selection",level:2},{value:"Quality-Specific Audio",id:"quality-specific-audio",level:3},{value:"All Tracks",id:"all-tracks",level:3},{value:"Track Filtering",id:"track-filtering",level:2},{value:"Filter by Language",id:"filter-by-language",level:3},{value:"Filter by Channels",id:"filter-by-channels",level:3},{value:"Playing with Track Selection",id:"playing-with-track-selection",level:2},{value:"Complete Example",id:"complete-example",level:2},{value:"See Also",id:"see-also",level:2}];function o(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"track-selection",children:"Track Selection"})}),"\n",(0,l.jsx)(n.p,{children:"Select specific audio and subtitle tracks when downloading adaptive streaming content."}),"\n",(0,l.jsx)(n.admonition,{title:"Pro Feature",type:"tip",children:(0,l.jsx)(n.p,{children:"Advanced track selection requires a Pro license."})}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(n.p,{children:"When downloading HLS/DASH content, you can:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Select multiple audio tracks"}),"\n",(0,l.jsx)(n.li,{children:"Select multiple subtitle tracks"}),"\n",(0,l.jsx)(n.li,{children:"Set default tracks"}),"\n",(0,l.jsx)(n.li,{children:"List available tracks before download"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"get-available-tracks",children:"Get Available Tracks"}),"\n",(0,l.jsx)(n.p,{children:"Before downloading, check what tracks are available:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"import { VideoDownloader } from 'react-native-video';\n\nconst tracks = await VideoDownloader.getAvailableTracks(\n  'https://example.com/playlist.m3u8'\n);\n\nconsole.log(tracks);\n// {\n//   audio: [\n//     { id: '1', language: 'en', label: 'English', channels: 2, bitrate: 128000, default: true },\n//     { id: '2', language: 'es', label: 'Spanish', channels: 2, bitrate: 128000 },\n//     { id: '3', language: 'en', label: 'English (5.1)', channels: 6, bitrate: 384000 },\n//   ],\n//   subtitles: [\n//     { id: '1', language: 'en', label: 'English', format: 'vtt' },\n//     { id: '2', language: 'es', label: 'Spanish', format: 'vtt' },\n//     { id: '3', language: 'fr', label: 'French', format: 'vtt' },\n//   ],\n// }\n"})}),"\n",(0,l.jsx)(n.h2,{id:"audio-track-selection",children:"Audio Track Selection"}),"\n",(0,l.jsx)(n.h3,{id:"select-single-audio-track",children:"Select Single Audio Track"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My Video',\n  type: 'hls',\n  audioTracks: [\n    { language: 'en' }\n  ],\n});\n"})}),"\n",(0,l.jsx)(n.h3,{id:"select-multiple-audio-tracks",children:"Select Multiple Audio Tracks"}),"\n",(0,l.jsx)(n.p,{children:"Download multiple audio tracks for multilingual support:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My Video',\n  type: 'hls',\n  audioTracks: [\n    { language: 'en', label: 'English' },\n    { language: 'es', label: 'Spanish' },\n    { language: 'fr', label: 'French' },\n  ],\n});\n"})}),"\n",(0,l.jsx)(n.h3,{id:"select-by-track-id",children:"Select by Track ID"}),"\n",(0,l.jsx)(n.p,{children:"Use specific track IDs for precise selection:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"const tracks = await VideoDownloader.getAvailableTracks(url);\nconst englishTrack = tracks.audio.find(t => t.language === 'en');\n\nconst download = await VideoDownloader.download({\n  url,\n  title: 'My Video',\n  type: 'hls',\n  audioTracks: [\n    { id: englishTrack.id }\n  ],\n});\n"})}),"\n",(0,l.jsx)(n.h3,{id:"audio-track-criteria",children:"Audio Track Criteria"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"interface AudioTrackSelection {\n  id?: string;           // Specific track ID\n  language?: string;     // Language code (e.g., 'en', 'es')\n  label?: string;        // Track label\n  channels?: number;     // Audio channels (2, 6, etc.)\n  minBitrate?: number;   // Minimum bitrate\n  maxBitrate?: number;   // Maximum bitrate\n  default?: boolean;     // Select default track\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"subtitle-track-selection",children:"Subtitle Track Selection"}),"\n",(0,l.jsx)(n.h3,{id:"select-single-subtitle-track",children:"Select Single Subtitle Track"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My Video',\n  type: 'hls',\n  subtitleTracks: [\n    { language: 'en' }\n  ],\n});\n"})}),"\n",(0,l.jsx)(n.h3,{id:"select-multiple-subtitle-tracks",children:"Select Multiple Subtitle Tracks"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My Video',\n  type: 'hls',\n  subtitleTracks: [\n    { language: 'en', label: 'English' },\n    { language: 'es', label: 'Spanish' },\n    { language: 'fr', label: 'French' },\n    { language: 'de', label: 'German' },\n  ],\n});\n"})}),"\n",(0,l.jsx)(n.h3,{id:"subtitle-track-criteria",children:"Subtitle Track Criteria"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"interface SubtitleTrackSelection {\n  id?: string;        // Specific track ID\n  language?: string;  // Language code\n  label?: string;     // Track label\n  format?: string;    // Subtitle format ('vtt', 'srt', etc.)\n  forced?: boolean;   // Forced subtitles only\n  sdh?: boolean;      // SDH/CC subtitles\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"default-tracks",children:"Default Tracks"}),"\n",(0,l.jsx)(n.h3,{id:"set-default-audio-track",children:"Set Default Audio Track"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My Video',\n  type: 'hls',\n  audioTracks: [\n    { language: 'en', default: true },\n    { language: 'es' },\n  ],\n});\n"})}),"\n",(0,l.jsx)(n.h3,{id:"set-default-subtitle-track",children:"Set Default Subtitle Track"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My Video',\n  type: 'hls',\n  subtitleTracks: [\n    { language: 'en', default: true },\n    { language: 'fr' },\n  ],\n});\n"})}),"\n",(0,l.jsx)(n.h2,{id:"advanced-selection",children:"Advanced Selection"}),"\n",(0,l.jsx)(n.h3,{id:"quality-specific-audio",children:"Quality-Specific Audio"}),"\n",(0,l.jsx)(n.p,{children:"Select high-quality audio for high-resolution video:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My Video',\n  type: 'hls',\n  quality: '1080p',\n  audioTracks: [\n    {\n      language: 'en',\n      channels: 6,  // 5.1 surround\n      minBitrate: 384000,\n    },\n  ],\n});\n"})}),"\n",(0,l.jsx)(n.h3,{id:"all-tracks",children:"All Tracks"}),"\n",(0,l.jsx)(n.p,{children:"Download all available tracks:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"const tracks = await VideoDownloader.getAvailableTracks(url);\n\nconst download = await VideoDownloader.download({\n  url,\n  title: 'My Video',\n  type: 'hls',\n  audioTracks: tracks.audio,\n  subtitleTracks: tracks.subtitles,\n});\n"})}),"\n",(0,l.jsx)(n.h2,{id:"track-filtering",children:"Track Filtering"}),"\n",(0,l.jsx)(n.h3,{id:"filter-by-language",children:"Filter by Language"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"const tracks = await VideoDownloader.getAvailableTracks(url);\n\n// Only English and Spanish audio\nconst filteredAudio = tracks.audio.filter(\n  t => ['en', 'es'].includes(t.language)\n);\n\nconst download = await VideoDownloader.download({\n  url,\n  title: 'My Video',\n  type: 'hls',\n  audioTracks: filteredAudio,\n});\n"})}),"\n",(0,l.jsx)(n.h3,{id:"filter-by-channels",children:"Filter by Channels"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"const tracks = await VideoDownloader.getAvailableTracks(url);\n\n// Only stereo audio (2 channels)\nconst stereoAudio = tracks.audio.filter(t => t.channels === 2);\n\nconst download = await VideoDownloader.download({\n  url,\n  title: 'My Video',\n  type: 'hls',\n  audioTracks: stereoAudio,\n});\n"})}),"\n",(0,l.jsx)(n.h2,{id:"playing-with-track-selection",children:"Playing with Track Selection"}),"\n",(0,l.jsx)(n.p,{children:"After download, select tracks during playback:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My Video',\n  type: 'hls',\n  audioTracks: [\n    { language: 'en' },\n    { language: 'es' },\n  ],\n  subtitleTracks: [\n    { language: 'en' },\n    { language: 'es' },\n  ],\n});\n\nawait download.start();\n\n// Play with track selection\nconst player = useVideoPlayer(download.localPath);\n\n// Get available tracks\nconst availableTracks = player.getAvailableTextTracks();\n\n// Select Spanish audio\nplayer.selectAudioTrack({ language: 'es' });\n\n// Select English subtitles\nplayer.selectTextTrack({ language: 'en' });\n"})}),"\n",(0,l.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"import React, { useState, useEffect } from 'react';\nimport { View, Text, Button, FlatList, Switch } from 'react-native';\nimport { VideoDownloader } from 'react-native-video';\n\nfunction TrackSelectionExample() {\n  const [tracks, setTracks] = useState({ audio: [], subtitles: [] });\n  const [selectedAudio, setSelectedAudio] = useState([]);\n  const [selectedSubtitles, setSelectedSubtitles] = useState([]);\n\n  const url = 'https://example.com/playlist.m3u8';\n\n  useEffect(() => {\n    loadTracks();\n  }, []);\n\n  const loadTracks = async () => {\n    const available = await VideoDownloader.getAvailableTracks(url);\n    setTracks(available);\n  };\n\n  const toggleAudioTrack = (track) => {\n    setSelectedAudio(prev => {\n      const exists = prev.find(t => t.id === track.id);\n      if (exists) {\n        return prev.filter(t => t.id !== track.id);\n      }\n      return [...prev, track];\n    });\n  };\n\n  const toggleSubtitleTrack = (track) => {\n    setSelectedSubtitles(prev => {\n      const exists = prev.find(t => t.id === track.id);\n      if (exists) {\n        return prev.filter(t => t.id !== track.id);\n      }\n      return [...prev, track];\n    });\n  };\n\n  const startDownload = async () => {\n    const download = await VideoDownloader.download({\n      url,\n      title: 'My Video',\n      type: 'hls',\n      audioTracks: selectedAudio,\n      subtitleTracks: selectedSubtitles,\n    });\n\n    await download.start();\n  };\n\n  return (\n    <View>\n      <Text>Audio Tracks:</Text>\n      <FlatList\n        data={tracks.audio}\n        renderItem={({ item }) => (\n          <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n            <Switch\n              value={selectedAudio.some(t => t.id === item.id)}\n              onValueChange={() => toggleAudioTrack(item)}\n            />\n            <Text>{item.label} ({item.language}) - {item.channels}ch</Text>\n          </View>\n        )}\n      />\n\n      <Text>Subtitle Tracks:</Text>\n      <FlatList\n        data={tracks.subtitles}\n        renderItem={({ item }) => (\n          <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n            <Switch\n              value={selectedSubtitles.some(t => t.id === item.id)}\n              onValueChange={() => toggleSubtitleTrack(item)}\n            />\n            <Text>{item.label} ({item.language})</Text>\n          </View>\n        )}\n      />\n\n      <Button\n        title={`Download (${selectedAudio.length} audio, ${selectedSubtitles.length} subs)`}\n        onPress={startDownload}\n        disabled={selectedAudio.length === 0}\n      />\n    </View>\n  );\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/downloading/adaptive-streaming",children:"Adaptive Streaming"})," - HLS/DASH downloads"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/downloading/configuration",children:"Configuration"})," - Download configuration"]}),"\n"]})]})}function u(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},56151:function(e,n,a){a.d(n,{R:()=>s,x:()=>c});var t=a(96540);let l={},i=t.createContext(l);function s(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);