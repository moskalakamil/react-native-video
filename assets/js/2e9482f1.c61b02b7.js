"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["7167"],{27726:function(e,t,a){a.r(t),a.d(t,{frontMatter:()=>c,toc:()=>i,default:()=>u,metadata:()=>n,assets:()=>d,contentTitle:()=>l});var n=JSON.parse('{"id":"players/events/tracks","title":"Tracks & Metadata Events","description":"Events for text tracks and timed metadata.","source":"@site/docs/players/events/tracks.md","sourceDirName":"players/events","slug":"/players/events/tracks","permalink":"/react-native-video/docs/v7/players/events/tracks","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"Tracks & Metadata"},"sidebar":"docsSidebar","previous":{"title":"Audio","permalink":"/react-native-video/docs/v7/players/events/audio"},"next":{"title":"UI & External","permalink":"/react-native-video/docs/v7/players/events/ui"}}'),r=a(74848),s=a(56151);let c={sidebar_label:"Tracks & Metadata"},l="Tracks & Metadata Events",d={},i=[{value:"onTrackChange",id:"ontrackchange",level:2},{value:"onTextTrackDataChanged",id:"ontexttrackdatachanged",level:2},{value:"onTimedMetadata",id:"ontimedmetadata",level:2},{value:"Example",id:"example",level:2}];function o(e){let t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"tracks--metadata-events",children:"Tracks & Metadata Events"})}),"\n",(0,r.jsx)(t.p,{children:"Events for text tracks and timed metadata."}),"\n",(0,r.jsx)(t.h2,{id:"ontrackchange",children:"onTrackChange"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"onTrackChange: (track: TextTrack | null) => void;\n"})}),"\n",(0,r.jsx)(t.p,{children:"Fired when selected text track changes."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"useEvent(player, 'onTrackChange', (track) => {\n  if (track) {\n    console.log('Selected:', track.label);\n  } else {\n    console.log('Subtitles disabled');\n  }\n});\n"})}),"\n",(0,r.jsx)(t.h2,{id:"ontexttrackdatachanged",children:"onTextTrackDataChanged"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"onTextTrackDataChanged: (texts: string[]) => void;\n"})}),"\n",(0,r.jsx)(t.p,{children:"Fired when current subtitle text changes."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"useEvent(player, 'onTextTrackDataChanged', (texts) => {\n  console.log('Current subtitle:', texts.join(' '));\n});\n"})}),"\n",(0,r.jsx)(t.h2,{id:"ontimedmetadata",children:"onTimedMetadata"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"onTimedMetadata: (metadata: TimedMetadata) => void;\n"})}),"\n",(0,r.jsx)(t.p,{children:"Fired when timed metadata is encountered (ID3 tags in HLS streams)."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"useEvent(player, 'onTimedMetadata', (metadata) => {\n  console.log('Metadata:', metadata);\n});\n"})}),"\n",(0,r.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"function SubtitlePlayer() {\n  const [currentSubtitle, setCurrentSubtitle] = useState('');\n  const [trackLabel, setTrackLabel] = useState('Off');\n\n  const player = useVideoPlayer(source, (_player) => {\n    _player.play();\n  });\n\n  useEvent(player, 'onTrackChange', (track) => {\n    setTrackLabel(track?.label ?? 'Off');\n  });\n\n  useEvent(player, 'onTextTrackDataChanged', (texts) => {\n    setCurrentSubtitle(texts.join(' '));\n  });\n\n  return (\n    <View>\n      <VideoView player={player} style={{ width: '100%', height: 300 }} />\n      <Text>Track: {trackLabel}</Text>\n      <Text>{currentSubtitle}</Text>\n    </View>\n  );\n}\n"})})]})}function u(e={}){let{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},56151:function(e,t,a){a.d(t,{R:()=>c,x:()=>l});var n=a(96540);let r={},s=n.createContext(r);function c(e){let t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);