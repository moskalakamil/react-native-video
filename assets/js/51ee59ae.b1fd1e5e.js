"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["2016"],{61799:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>s,toc:()=>d,default:()=>u,metadata:()=>l,assets:()=>a,contentTitle:()=>o});var l=JSON.parse('{"id":"ui/resolution-select","title":"Resolution Select","description":"Quality and resolution picker for adaptive streaming (HLS/DASH).","source":"@site/docs/ui/resolution-select.md","sourceDirName":"ui","slug":"/ui/resolution-select","permalink":"/react-native-video/docs/v7/ui/resolution-select","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Subtitles","permalink":"/react-native-video/docs/v7/ui/subtitles"},"next":{"title":"Getting Started","permalink":"/react-native-video/docs/v7/extensions/downloading/getting-started"}}'),i=t(74848),r=t(56151);let s={},o="Resolution Select",a={},d=[{value:"Overview",id:"overview",level:2},{value:"Props",id:"props",level:2},{value:"Resolution Type",id:"resolution-type",level:2},{value:"Basic Example",id:"basic-example",level:2},{value:"Custom Styling",id:"custom-styling",level:2},{value:"Custom Label Formatter",id:"custom-label-formatter",level:2},{value:"Handling Selection",id:"handling-selection",level:2},{value:"Data Saver Mode",id:"data-saver-mode",level:2},{value:"Network-Aware Quality",id:"network-aware-quality",level:2},{value:"Available Resolutions",id:"available-resolutions",level:2}];function c(e){let n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"resolution-select",children:"Resolution Select"})}),"\n",(0,i.jsx)(n.p,{children:"Quality and resolution picker for adaptive streaming (HLS/DASH)."}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"The ResolutionSelect component enables users to manually select video quality, overriding automatic bitrate adaptation. This is useful when:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Users want consistent quality regardless of network conditions"}),"\n",(0,i.jsx)(n.li,{children:"Saving data is a priority (select lower resolution)"}),"\n",(0,i.jsx)(n.li,{children:"Maximum quality is desired on fast connections"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'<Controls.ResolutionSelect \n  showBitrate={true}\n  autoLabel="Auto"\n/>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"props",children:"Props"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Prop"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"buttonSize"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"24"})}),(0,i.jsx)(n.td,{children:"Size of toggle button"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"buttonColor"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"'#FFFFFF'"})}),(0,i.jsx)(n.td,{children:"Button icon color"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"buttonIcon"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ReactNode"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Custom button icon"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"showBitrate"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Show bitrate alongside resolution"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"showCurrentQuality"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),(0,i.jsx)(n.td,{children:"Show current quality on button"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"autoLabel"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"'Auto'"})}),(0,i.jsx)(n.td,{children:"Label for automatic quality"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"style"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ViewStyle"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Container style"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"panelStyle"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ViewStyle"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Selection panel style"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"itemStyle"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ViewStyle"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Individual item style"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"itemTextStyle"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"TextStyle"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Item text style"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"activeColor"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"'#007AFF'"})}),(0,i.jsx)(n.td,{children:"Active selection color"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onSelect"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"(resolution: Resolution | 'auto') => void"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Callback on selection"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"formatLabel"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"(resolution: Resolution) => string"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Custom label formatter"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"resolution-type",children:"Resolution Type"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'interface Resolution {\n  width: number;\n  height: number;\n  bitrate: number;\n  label?: string;      // e.g., "1080p", "720p", "4K"\n  frameRate?: number;  // e.g., 30, 60\n  codec?: string;      // e.g., "h264", "hevc"\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"basic-example",children:"Basic Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { VideoView, Controls, useVideoPlayer } from 'react-native-video';\n\nfunction VideoWithQualitySelector({ source }) {\n  const player = useVideoPlayer(source);\n\n  return (\n    <VideoView player={player} style={styles.video}>\n      <Controls.Container>\n        <View style={styles.topBar}>\n          <Controls.ResolutionSelect \n            showBitrate={true}\n            autoLabel=\"Auto (Recommended)\"\n          />\n          <Controls.Fullscreen />\n        </View>\n\n        <Controls.PlayPause size={64} />\n\n        <View style={styles.bottomBar}>\n          <Controls.SeekBar />\n          <Controls.Duration />\n        </View>\n      </Controls.Container>\n    </VideoView>\n  );\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"custom-styling",children:"Custom Styling"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"<Controls.ResolutionSelect\n  showBitrate={true}\n  panelStyle={{\n    backgroundColor: 'rgba(0, 0, 0, 0.95)',\n    borderRadius: 12,\n    padding: 8,\n    minWidth: 200,\n  }}\n  itemStyle={{\n    paddingVertical: 14,\n    paddingHorizontal: 20,\n    borderRadius: 8,\n  }}\n  itemTextStyle={{\n    color: '#FFFFFF',\n    fontSize: 16,\n  }}\n  activeColor=\"#00BCD4\"\n/>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"custom-label-formatter",children:"Custom Label Formatter"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"<Controls.ResolutionSelect\n  formatLabel={(resolution) => {\n    const quality = resolution.height >= 2160 ? '4K' \n      : resolution.height >= 1080 ? 'Full HD'\n      : resolution.height >= 720 ? 'HD'\n      : 'SD';\n    \n    const bitrateMbps = (resolution.bitrate / 1000000).toFixed(1);\n    \n    return `${quality} (${resolution.height}p) - ${bitrateMbps} Mbps`;\n  }}\n/>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"handling-selection",children:"Handling Selection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"function VideoWithQualityControl({ source }) {\n  const player = useVideoPlayer(source);\n  const [currentQuality, setCurrentQuality] = useState('auto');\n\n  const handleQualitySelect = (resolution) => {\n    if (resolution === 'auto') {\n      setCurrentQuality('auto');\n      // Enable automatic bitrate selection\n      player.setAutomaticBitrateEnabled(true);\n    } else {\n      setCurrentQuality(`${resolution.height}p`);\n      // Set specific bitrate\n      player.setPreferredBitrate(resolution.bitrate);\n    }\n  };\n\n  return (\n    <VideoView player={player}>\n      <Controls.Container>\n        <Controls.ResolutionSelect\n          onSelect={handleQualitySelect}\n          showCurrentQuality={true}\n        />\n        {/* ... other controls */}\n      </Controls.Container>\n    </VideoView>\n  );\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"data-saver-mode",children:"Data Saver Mode"}),"\n",(0,i.jsx)(n.p,{children:"Implement a data saver that limits maximum quality:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"function DataSaverVideoPlayer({ source }) {\n  const player = useVideoPlayer(source);\n  const [dataSaverEnabled, setDataSaverEnabled] = useState(false);\n\n  return (\n    <VideoView player={player}>\n      <Controls.Container>\n        <View style={styles.topBar}>\n          {/* Data saver toggle */}\n          <TouchableOpacity \n            onPress={() => setDataSaverEnabled(!dataSaverEnabled)}\n            style={styles.dataSaverButton}\n          >\n            <Text style={{ color: dataSaverEnabled ? '#4CAF50' : '#FFF' }}>\n              {dataSaverEnabled ? '\u{1F4C9} Data Saver ON' : '\u{1F4CA} Data Saver OFF'}\n            </Text>\n          </TouchableOpacity>\n\n          <Controls.ResolutionSelect\n            onSelect={(resolution) => {\n              if (dataSaverEnabled && resolution !== 'auto') {\n                // Limit to 480p in data saver mode\n                if (resolution.height > 480) {\n                  Alert.alert(\n                    'Data Saver Active',\n                    'Maximum quality is limited to 480p while Data Saver is enabled.'\n                  );\n                  return;\n                }\n              }\n              // Apply selection...\n            }}\n          />\n        </View>\n        {/* ... other controls */}\n      </Controls.Container>\n    </VideoView>\n  );\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"network-aware-quality",children:"Network-Aware Quality"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import NetInfo from '@react-native-community/netinfo';\n\nfunction NetworkAwarePlayer({ source }) {\n  const player = useVideoPlayer(source);\n  const [networkType, setNetworkType] = useState('unknown');\n\n  useEffect(() => {\n    const unsubscribe = NetInfo.addEventListener(state => {\n      setNetworkType(state.type);\n      \n      // Auto-adjust quality based on network\n      if (state.type === 'cellular') {\n        player.setMaxBitrate(2000000); // 2 Mbps on cellular\n      } else if (state.type === 'wifi') {\n        player.setMaxBitrate(null); // Unlimited on WiFi\n      }\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  return (\n    <VideoView player={player}>\n      <Controls.Container>\n        <Controls.ResolutionSelect\n          autoLabel={`Auto (${networkType === 'wifi' ? 'WiFi' : 'Cellular'})`}\n        />\n        {/* ... */}\n      </Controls.Container>\n    </VideoView>\n  );\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"available-resolutions",children:"Available Resolutions"}),"\n",(0,i.jsx)(n.p,{children:"The available resolutions depend on the video source. For HLS/DASH streams, resolutions are automatically detected from the manifest. You can access them programmatically:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"function QualityInfo({ player }) {\n  const [resolutions, setResolutions] = useState([]);\n\n  useEffect(() => {\n    const availableResolutions = player.getAvailableResolutions();\n    setResolutions(availableResolutions);\n    \n    console.log('Available qualities:', availableResolutions);\n    // Example output:\n    // [\n    //   { width: 1920, height: 1080, bitrate: 5000000, label: '1080p' },\n    //   { width: 1280, height: 720, bitrate: 2500000, label: '720p' },\n    //   { width: 854, height: 480, bitrate: 1000000, label: '480p' },\n    //   { width: 640, height: 360, bitrate: 500000, label: '360p' },\n    // ]\n  }, [player]);\n\n  return (\n    <Controls.ResolutionSelect\n      // ResolutionSelect automatically uses player.getAvailableResolutions()\n    />\n  );\n}\n"})})]})}function u(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},56151:function(e,n,t){t.d(n,{R:()=>s,x:()=>o});var l=t(96540);let i={},r=l.createContext(i);function s(e){let n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);