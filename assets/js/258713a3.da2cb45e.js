"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["4716"],{78876:function(e,n,l){l.r(n),l.d(n,{frontMatter:()=>o,toc:()=>r,default:()=>u,metadata:()=>a,assets:()=>d,contentTitle:()=>s});var a=JSON.parse('{"id":"extensions/downloading/adaptive-streaming","title":"Adaptive Streaming Downloads","description":"Download HLS and DASH content for offline playback with quality and track selection.","source":"@site/docs/extensions/downloading/adaptive-streaming.md","sourceDirName":"extensions/downloading","slug":"/extensions/downloading/adaptive-streaming","permalink":"/react-native-video/docs/v7/extensions/downloading/adaptive-streaming","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Basic Downloads","permalink":"/react-native-video/docs/v7/extensions/downloading/basic-downloads"},"next":{"title":"Track Selection","permalink":"/react-native-video/docs/v7/extensions/downloading/track-selection"}}'),t=l(74848),i=l(56151);let o={},s="Adaptive Streaming Downloads",d={},r=[{value:"Overview",id:"overview",level:2},{value:"Basic HLS Download",id:"basic-hls-download",level:2},{value:"Quality Selection",id:"quality-selection",level:2},{value:"Automatic Quality (Recommended)",id:"automatic-quality-recommended",level:3},{value:"Specific Quality",id:"specific-quality",level:3},{value:"List Available Qualities",id:"list-available-qualities",level:3},{value:"Track Selection",id:"track-selection",level:2},{value:"Audio Tracks",id:"audio-tracks",level:3},{value:"Subtitle Tracks",id:"subtitle-tracks",level:3},{value:"List Available Tracks",id:"list-available-tracks",level:3},{value:"DASH Downloads",id:"dash-downloads",level:2},{value:"Advanced Options",id:"advanced-options",level:2},{value:"Full Configuration",id:"full-configuration",level:3},{value:"Progress Tracking",id:"progress-tracking",level:2},{value:"Playing Downloaded Content",id:"playing-downloaded-content",level:2},{value:"Complete Example",id:"complete-example",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"adaptive-streaming-downloads",children:"Adaptive Streaming Downloads"})}),"\n",(0,t.jsx)(n.p,{children:"Download HLS and DASH content for offline playback with quality and track selection."}),"\n",(0,t.jsx)(n.admonition,{title:"Pro Feature",type:"tip",children:(0,t.jsx)(n.p,{children:"Adaptive streaming downloads require a Pro license."})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"Download adaptive streaming content (HLS/DASH) with:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Quality selection (resolution/bitrate)"}),"\n",(0,t.jsx)(n.li,{children:"Audio track selection"}),"\n",(0,t.jsx)(n.li,{children:"Subtitle track selection"}),"\n",(0,t.jsx)(n.li,{children:"Automatic quality selection"}),"\n",(0,t.jsx)(n.li,{children:"Segment-based progress tracking"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"basic-hls-download",children:"Basic HLS Download"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { VideoDownloader } from 'react-native-video';\n\nconst download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My HLS Video',\n  type: 'hls',\n});\n\nawait download.start();\n"})}),"\n",(0,t.jsx)(n.h2,{id:"quality-selection",children:"Quality Selection"}),"\n",(0,t.jsx)(n.h3,{id:"automatic-quality-recommended",children:"Automatic Quality (Recommended)"}),"\n",(0,t.jsx)(n.p,{children:"Download the best quality available:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My Video',\n  type: 'hls',\n  quality: 'auto', // Downloads highest quality\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"specific-quality",children:"Specific Quality"}),"\n",(0,t.jsx)(n.p,{children:"Choose a specific resolution or bitrate:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My Video',\n  type: 'hls',\n  quality: {\n    resolution: '1080p',\n    // or bitrate: 5000000 (5 Mbps)\n  },\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"list-available-qualities",children:"List Available Qualities"}),"\n",(0,t.jsx)(n.p,{children:"Get all available quality levels before downloading:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const qualities = await VideoDownloader.getAvailableQualities(\n  'https://example.com/playlist.m3u8'\n);\n\nconsole.log(qualities);\n// [\n//   { width: 1920, height: 1080, bitrate: 5000000, label: '1080p' },\n//   { width: 1280, height: 720, bitrate: 2500000, label: '720p' },\n//   { width: 854, height: 480, bitrate: 1000000, label: '480p' },\n// ]\n"})}),"\n",(0,t.jsx)(n.h2,{id:"track-selection",children:"Track Selection"}),"\n",(0,t.jsx)(n.h3,{id:"audio-tracks",children:"Audio Tracks"}),"\n",(0,t.jsx)(n.p,{children:"Download specific audio tracks:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My Video',\n  type: 'hls',\n  audioTracks: [\n    { language: 'en', label: 'English' },\n    { language: 'es', label: 'Spanish' },\n  ],\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"subtitle-tracks",children:"Subtitle Tracks"}),"\n",(0,t.jsx)(n.p,{children:"Download specific subtitle tracks:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My Video',\n  type: 'hls',\n  subtitleTracks: [\n    { language: 'en', label: 'English' },\n    { language: 'fr', label: 'French' },\n  ],\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"list-available-tracks",children:"List Available Tracks"}),"\n",(0,t.jsx)(n.p,{children:"Get all available tracks before downloading:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const tracks = await VideoDownloader.getAvailableTracks(\n  'https://example.com/playlist.m3u8'\n);\n\nconsole.log(tracks.audio);\n// [\n//   { id: '1', language: 'en', label: 'English', default: true },\n//   { id: '2', language: 'es', label: 'Spanish' },\n// ]\n\nconsole.log(tracks.subtitles);\n// [\n//   { id: '1', language: 'en', label: 'English' },\n//   { id: '2', language: 'fr', label: 'French' },\n// ]\n"})}),"\n",(0,t.jsx)(n.h2,{id:"dash-downloads",children:"DASH Downloads"}),"\n",(0,t.jsx)(n.p,{children:"Download DASH content similarly to HLS:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/manifest.mpd',\n  title: 'My DASH Video',\n  type: 'dash',\n  quality: {\n    resolution: '720p',\n  },\n  audioTracks: [{ language: 'en' }],\n});\n\nawait download.start();\n"})}),"\n",(0,t.jsx)(n.h2,{id:"advanced-options",children:"Advanced Options"}),"\n",(0,t.jsx)(n.h3,{id:"full-configuration",children:"Full Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My Video',\n  type: 'hls',\n  \n  // Quality selection\n  quality: {\n    resolution: '1080p',\n    // or: bitrate: 5000000,\n    // or: 'auto' for best quality\n  },\n  \n  // Track selection\n  audioTracks: [\n    { language: 'en', label: 'English' },\n  ],\n  subtitleTracks: [\n    { language: 'en', label: 'English' },\n    { language: 'es', label: 'Spanish' },\n  ],\n  \n  // Storage optimization\n  removeSourceAfterDownload: false,\n  \n  // Custom headers\n  headers: {\n    'Authorization': 'Bearer token',\n  },\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"progress-tracking",children:"Progress Tracking"}),"\n",(0,t.jsx)(n.p,{children:"Adaptive streaming downloads provide detailed segment progress:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"download.onProgress((progress) => {\n  console.log(`Overall: ${progress.percentage}%`);\n  console.log(`Segments: ${progress.segmentsDownloaded} / ${progress.totalSegments}`);\n  console.log(`Speed: ${(progress.speed / 1024 / 1024).toFixed(2)} MB/s`);\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"playing-downloaded-content",children:"Playing Downloaded Content"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const download = await VideoDownloader.download({\n  url: 'https://example.com/playlist.m3u8',\n  title: 'My Video',\n  type: 'hls',\n});\n\nawait download.start();\n\n// Play the downloaded content\nconst player = useVideoPlayer(download.localPath);\n\nreturn <VideoView player={player} />;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import React, { useState, useEffect } from 'react';\nimport { View, Text, Button, FlatList } from 'react-native';\nimport { VideoDownloader } from 'react-native-video';\n\nfunction AdaptiveDownloadExample() {\n  const [qualities, setQualities] = useState([]);\n  const [selectedQuality, setSelectedQuality] = useState(null);\n  const [download, setDownload] = useState(null);\n  const [progress, setProgress] = useState(0);\n\n  const url = 'https://example.com/playlist.m3u8';\n\n  useEffect(() => {\n    loadQualities();\n  }, []);\n\n  const loadQualities = async () => {\n    const available = await VideoDownloader.getAvailableQualities(url);\n    setQualities(available);\n  };\n\n  const startDownload = async () => {\n    const dl = await VideoDownloader.download({\n      url,\n      title: 'My HLS Video',\n      type: 'hls',\n      quality: selectedQuality || 'auto',\n    });\n\n    dl.onProgress((prog) => {\n      setProgress(prog.percentage);\n    });\n\n    dl.onComplete((result) => {\n      console.log('Downloaded:', result.localPath);\n    });\n\n    setDownload(dl);\n    await dl.start();\n  };\n\n  return (\n    <View>\n      <Text>Select Quality:</Text>\n      <FlatList\n        data={qualities}\n        renderItem={({ item }) => (\n          <Button\n            title={`${item.label} (${(item.bitrate / 1000000).toFixed(1)} Mbps)`}\n            onPress={() => setSelectedQuality(item)}\n          />\n        )}\n      />\n      \n      <Button \n        title={`Download ${selectedQuality?.label || 'Best Quality'}`}\n        onPress={startDownload}\n      />\n      \n      {download && <Text>Progress: {progress}%</Text>}\n    </View>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/downloading/track-selection",children:"Track Selection"})," - Advanced track selection"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/downloading/configuration",children:"Configuration"})," - Download configuration options"]}),"\n"]})]})}function u(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},56151:function(e,n,l){l.d(n,{R:()=>o,x:()=>s});var a=l(96540);let t={},i=a.createContext(t);function o(e){let n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);