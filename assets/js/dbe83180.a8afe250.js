"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["3539"],{39611:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>l,toc:()=>c,default:()=>u,metadata:()=>s,assets:()=>d,contentTitle:()=>i});var s=JSON.parse('{"id":"players/usage/status","title":"Status","description":"Monitor player status and manage event listeners.","source":"@site/docs/players/usage/status.md","sourceDirName":"players/usage","slug":"/players/usage/status","permalink":"/react-native-video/docs/v7/players/usage/status","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Text Tracks","permalink":"/react-native-video/docs/v7/players/usage/text-tracks"},"next":{"title":"Frame Processors","permalink":"/react-native-video/docs/v7/players/usage/frame-processors"}}'),r=t(74848),a=t(56151);let l={},i="Status",d={},c=[{value:"status",id:"status-1",level:2},{value:"VideoPlayerStatus Values",id:"videoplayerstatus-values",level:3},{value:"Event Management",id:"event-management",level:2},{value:"addEventListener()",id:"addeventlistener",level:3},{value:"clearAllEvents()",id:"clearallevents",level:3},{value:"Events",id:"events",level:2},{value:"onStatusChange",id:"onstatuschange",level:3},{value:"onError",id:"onerror",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"See Also",id:"see-also",level:2}];function o(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"status",children:"Status"})}),"\n",(0,r.jsx)(n.p,{children:"Monitor player status and manage event listeners."}),"\n",(0,r.jsx)(n.h2,{id:"status-1",children:"status"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"get status(): VideoPlayerStatus;\n"})}),"\n",(0,r.jsx)(n.p,{children:"Current player status. Read-only."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"useEvent(player, 'onStatusChange', (status) => {\n  console.log('Status:', status);\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"videoplayerstatus-values",children:"VideoPlayerStatus Values"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Status"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'idle'"})}),(0,r.jsx)(n.td,{children:"No source loaded"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'loading'"})}),(0,r.jsx)(n.td,{children:"Source loading"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'ready'"})}),(0,r.jsx)(n.td,{children:"Ready to play"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'playing'"})}),(0,r.jsx)(n.td,{children:"Playing"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'paused'"})}),(0,r.jsx)(n.td,{children:"Paused"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'buffering'"})}),(0,r.jsx)(n.td,{children:"Buffering"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'ended'"})}),(0,r.jsx)(n.td,{children:"Reached end"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'error'"})}),(0,r.jsx)(n.td,{children:"Error occurred"})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"function StatusIcon({ player }) {\n  const [status, setStatus] = useState(player.status);\n  \n  useEvent(player, 'onStatusChange', setStatus);\n\n  switch (status) {\n    case 'loading':\n    case 'buffering':\n      return <ActivityIndicator />;\n    case 'playing':\n      return <Icon name=\"pause\" />;\n    case 'ended':\n      return <Icon name=\"replay\" />;\n    case 'error':\n      return <Icon name=\"error\" />;\n    default:\n      return <Icon name=\"play\" />;\n  }\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"event-management",children:"Event Management"}),"\n",(0,r.jsx)(n.h3,{id:"addeventlistener",children:"addEventListener()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"addEventListener<Event>(event, callback): ListenerSubscription;\n"})}),"\n",(0,r.jsx)(n.p,{children:"Add event listener. Returns subscription to remove it."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"const subscription = player.addEventListener('onProgress', (data) => {\n  console.log('Time:', data.currentTime);\n});\n\n// Later\nsubscription.remove();\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["In React, prefer ",(0,r.jsx)(n.code,{children:"useEvent"})," hook for automatic cleanup."]})}),"\n",(0,r.jsx)(n.h3,{id:"clearallevents",children:"clearAllEvents()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"clearAllEvents(): void;\n"})}),"\n",(0,r.jsx)(n.p,{children:"Remove all event listeners."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"player.clearAllEvents();\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,r.jsx)(n.h3,{id:"onstatuschange",children:"onStatusChange"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"useEvent(player, 'onStatusChange', (status) => {\n  if (status === 'ready') console.log('Ready to play');\n  if (status === 'buffering') console.log('Buffering...');\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onerror",children:"onError"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"useEvent(player, 'onError', (error) => {\n  console.error('Error:', error.code, error.message);\n});\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import React, { useState } from 'react';\nimport { View, Text, ActivityIndicator, TouchableOpacity } from 'react-native';\nimport { useVideoPlayer, useEvent, VideoView, VideoPlayerStatus } from 'react-native-video';\n\nfunction StatusPlayer() {\n  const player = useVideoPlayer(source);\n\n  const [status, setStatus] = useState<VideoPlayerStatus>('idle');\n  const [error, setError] = useState<string | null>(null);\n\n  useEvent(player, 'onStatusChange', setStatus);\n  useEvent(player, 'onError', (err) => setError(err.message));\n\n  const getColor = () => {\n    switch (status) {\n      case 'playing': return '#4CAF50';\n      case 'paused': return '#FFC107';\n      case 'buffering': return '#2196F3';\n      case 'error': return '#F44336';\n      default: return '#757575';\n    }\n  };\n\n  return (\n    <View>\n      <View style={{ position: 'relative' }}>\n        <VideoView player={player} style={{ width: '100%', height: 300 }} />\n\n        {(status === 'loading' || status === 'buffering') && (\n          <View style={{ /* overlay */ }}>\n            <ActivityIndicator color=\"white\" />\n          </View>\n        )}\n\n        {status === 'error' && (\n          <View style={{ /* overlay */ }}>\n            <Text style={{ color: 'white' }}>\u26A0\uFE0F {error}</Text>\n          </View>\n        )}\n      </View>\n\n      <View style={{ flexDirection: 'row', alignItems: 'center', padding: 10 }}>\n        <View style={{ width: 12, height: 12, borderRadius: 6, backgroundColor: getColor() }} />\n        <Text style={{ marginLeft: 8 }}>{status.toUpperCase()}</Text>\n      </View>\n\n      <TouchableOpacity onPress={() => {\n        if (status === 'playing') player.pause();\n        else if (status === 'ended') { player.seekTo(0); player.play(); }\n        else player.play();\n      }}>\n        <Text>\n          {status === 'playing' ? 'Pause' : status === 'ended' ? 'Replay' : 'Play'}\n        </Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/react-native-video/docs/v7/players/events/useEvent",children:"Events"})," - Event handling"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/react-native-video/docs/v7/players/usage/playback",children:"Playback"})," - Playback control"]}),"\n"]})]})}function u(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},56151:function(e,n,t){t.d(n,{R:()=>l,x:()=>i});var s=t(96540);let r={},a=s.createContext(r);function l(e){let n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);