"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["2662"],{3446:function(e,n,o){o.r(n),o.d(n,{frontMatter:()=>r,toc:()=>d,default:()=>c,metadata:()=>a,assets:()=>i,contentTitle:()=>t});var a=JSON.parse('{"id":"extensions/uploading/basic-upload","title":"Basic Upload","description":"Upload single files with simple API and automatic retry.","source":"@site/docs/extensions/uploading/basic-upload.md","sourceDirName":"extensions/uploading","slug":"/extensions/uploading/basic-upload","permalink":"/react-native-video/docs/v7/extensions/uploading/basic-upload","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Getting Started","permalink":"/react-native-video/docs/v7/extensions/uploading/getting-started"},"next":{"title":"Multi-Part Upload","permalink":"/react-native-video/docs/v7/extensions/uploading/multi-part-upload"}}'),s=o(74848),l=o(56151);let r={},t="Basic Upload",i={},d=[{value:"Quick Start",id:"quick-start",level:2},{value:"Upload Options",id:"upload-options",level:2},{value:"file (required)",id:"file-required",level:3},{value:"url (required)",id:"url-required",level:3},{value:"method (optional)",id:"method-optional",level:3},{value:"headers (optional)",id:"headers-optional",level:3},{value:"fields (optional)",id:"fields-optional",level:3},{value:"metadata (optional)",id:"metadata-optional",level:3},{value:"fileKey (optional)",id:"filekey-optional",level:3},{value:"Progress Tracking",id:"progress-tracking",level:2},{value:"Progress Object",id:"progress-object",level:3},{value:"Upload Control",id:"upload-control",level:2},{value:"Start",id:"start",level:3},{value:"Pause",id:"pause",level:3},{value:"Resume",id:"resume",level:3},{value:"Cancel",id:"cancel",level:3},{value:"Events",id:"events",level:2},{value:"Server Response",id:"server-response",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Complete Example",id:"complete-example",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"See Also",id:"see-also",level:2}];function p(e){let n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"basic-upload",children:"Basic Upload"})}),"\n",(0,s.jsx)(n.p,{children:"Upload single files with simple API and automatic retry."}),"\n",(0,s.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { VideoUploader } from 'react-native-video';\n\nconst upload = await VideoUploader.upload({\n  file: '/path/to/video.mp4',\n  url: 'https://api.example.com/upload',\n});\n\nawait upload.start();\n"})}),"\n",(0,s.jsx)(n.h2,{id:"upload-options",children:"Upload Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"interface UploadOptions {\n  file: string;\n  url: string;\n  method?: 'POST' | 'PUT';\n  headers?: Record<string, string>;\n  fields?: Record<string, any>;\n  metadata?: Record<string, any>;\n  fileKey?: string;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"file-required",children:"file (required)"}),"\n",(0,s.jsx)(n.p,{children:"Local path to the file to upload."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const upload = await VideoUploader.upload({\n  file: '/var/mobile/Containers/Data/video.mp4',\n  url: 'https://api.example.com/upload',\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"url-required",children:"url (required)"}),"\n",(0,s.jsx)(n.p,{children:"The server endpoint to upload to."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const upload = await VideoUploader.upload({\n  file: '/path/to/video.mp4',\n  url: 'https://api.example.com/videos/upload',\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"method-optional",children:"method (optional)"}),"\n",(0,s.jsxs)(n.p,{children:["HTTP method to use. Defaults to ",(0,s.jsx)(n.code,{children:"'POST'"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const upload = await VideoUploader.upload({\n  file: '/path/to/video.mp4',\n  url: 'https://api.example.com/upload',\n  method: 'PUT',\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"headers-optional",children:"headers (optional)"}),"\n",(0,s.jsx)(n.p,{children:"Custom HTTP headers."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const upload = await VideoUploader.upload({\n  file: '/path/to/video.mp4',\n  url: 'https://api.example.com/upload',\n  headers: {\n    'Authorization': 'Bearer token123',\n    'X-Custom-Header': 'value',\n  },\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"fields-optional",children:"fields (optional)"}),"\n",(0,s.jsx)(n.p,{children:"Additional form fields to send with the upload."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const upload = await VideoUploader.upload({\n  file: '/path/to/video.mp4',\n  url: 'https://api.example.com/upload',\n  fields: {\n    title: 'My Video',\n    description: 'Uploaded from mobile',\n    userId: '12345',\n  },\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"metadata-optional",children:"metadata (optional)"}),"\n",(0,s.jsx)(n.p,{children:"Custom metadata for local tracking (not sent to server)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const upload = await VideoUploader.upload({\n  file: '/path/to/video.mp4',\n  url: 'https://api.example.com/upload',\n  metadata: {\n    localId: 'abc123',\n    timestamp: Date.now(),\n    category: 'vacation',\n  },\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"filekey-optional",children:"fileKey (optional)"}),"\n",(0,s.jsxs)(n.p,{children:["The form field name for the file. Defaults to ",(0,s.jsx)(n.code,{children:"'file'"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const upload = await VideoUploader.upload({\n  file: '/path/to/video.mp4',\n  url: 'https://api.example.com/upload',\n  fileKey: 'video', // Server expects 'video' field\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"progress-tracking",children:"Progress Tracking"}),"\n",(0,s.jsx)(n.p,{children:"Monitor upload progress in real-time:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const upload = await VideoUploader.upload({\n  file: '/path/to/video.mp4',\n  url: 'https://api.example.com/upload',\n});\n\nupload.onProgress((progress) => {\n  console.log(`Uploaded: ${progress.bytesUploaded} / ${progress.totalBytes}`);\n  console.log(`Progress: ${progress.percentage}%`);\n  console.log(`Speed: ${progress.speed} bytes/sec`);\n  console.log(`ETA: ${progress.estimatedTimeRemaining} seconds`);\n});\n\nawait upload.start();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"progress-object",children:"Progress Object"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"interface UploadProgress {\n  bytesUploaded: number;\n  totalBytes: number;\n  percentage: number; // 0-100\n  speed: number; // bytes per second\n  estimatedTimeRemaining: number; // seconds\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"upload-control",children:"Upload Control"}),"\n",(0,s.jsx)(n.h3,{id:"start",children:"Start"}),"\n",(0,s.jsx)(n.p,{children:"Begin the upload:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"await upload.start();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"pause",children:"Pause"}),"\n",(0,s.jsx)(n.p,{children:"Temporarily pause the upload:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"await upload.pause();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"resume",children:"Resume"}),"\n",(0,s.jsx)(n.p,{children:"Resume a paused upload:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"await upload.resume();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"cancel",children:"Cancel"}),"\n",(0,s.jsx)(n.p,{children:"Cancel and remove the upload:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"await upload.cancel();\n"})}),"\n",(0,s.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,s.jsx)(n.p,{children:"Listen to upload lifecycle events:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const upload = await VideoUploader.upload({\n  file: '/path/to/video.mp4',\n  url: 'https://api.example.com/upload',\n});\n\n// Progress updates\nupload.onProgress((progress) => {\n  console.log(`${progress.percentage}% complete`);\n});\n\n// State changes\nupload.onStateChange((state) => {\n  console.log('State:', state);\n});\n\n// Completion\nupload.onComplete((response) => {\n  console.log('Upload complete!');\n  console.log('Server response:', response.data);\n  console.log('Status code:', response.statusCode);\n});\n\n// Errors\nupload.onError((error) => {\n  console.error('Upload failed:', error.message);\n  console.error('Code:', error.code);\n});\n\n// Network changes\nupload.onNetworkChange((state) => {\n  console.log('Network:', state.isConnected ? 'Connected' : 'Disconnected');\n});\n\nawait upload.start();\n"})}),"\n",(0,s.jsx)(n.h2,{id:"server-response",children:"Server Response"}),"\n",(0,s.jsx)(n.p,{children:"Handle server responses:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"upload.onComplete((response) => {\n  console.log('Status:', response.statusCode);\n  console.log('Headers:', response.headers);\n  console.log('Body:', response.data);\n  \n  // Parse JSON response\n  const data = JSON.parse(response.data);\n  console.log('Video ID:', data.videoId);\n  console.log('URL:', data.url);\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"upload.onError((error) => {\n  switch (error.code) {\n    case 'NETWORK_ERROR':\n      console.error('Network error:', error.message);\n      break;\n    case 'SERVER_ERROR':\n      console.error('Server error:', error.statusCode);\n      break;\n    case 'FILE_NOT_FOUND':\n      console.error('File not found:', error.filePath);\n      break;\n    case 'CANCELLED':\n      console.log('Upload was cancelled');\n      break;\n    default:\n      console.error('Unknown error:', error);\n  }\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import React, { useState } from 'react';\nimport { View, Text, Button, ProgressBar } from 'react-native';\nimport { VideoUploader } from 'react-native-video';\n\nfunction UploadExample({ filePath }) {\n  const [upload, setUpload] = useState(null);\n  const [progress, setProgress] = useState(0);\n  const [state, setState] = useState('idle');\n  const [response, setResponse] = useState(null);\n\n  const startUpload = async () => {\n    const ul = await VideoUploader.upload({\n      file: filePath,\n      url: 'https://api.example.com/upload',\n      headers: {\n        'Authorization': 'Bearer token',\n      },\n      fields: {\n        title: 'My Video',\n        userId: 'user123',\n      },\n    });\n\n    ul.onProgress((prog) => setProgress(prog.percentage));\n    ul.onStateChange((s) => setState(s));\n    \n    ul.onComplete((resp) => {\n      console.log('Upload completed!');\n      setResponse(resp);\n    });\n\n    ul.onError((error) => {\n      console.error('Upload failed:', error);\n      alert(`Upload failed: ${error.message}`);\n    });\n\n    setUpload(ul);\n    await ul.start();\n  };\n\n  return (\n    <View>\n      <Text>State: {state}</Text>\n      \n      {state === 'uploading' && (\n        <>\n          <ProgressBar progress={progress / 100} />\n          <Text>{progress}%</Text>\n        </>\n      )}\n      \n      <Button \n        title=\"Upload\" \n        onPress={startUpload}\n        disabled={state === 'uploading'}\n      />\n      \n      {upload && state === 'uploading' && (\n        <Button title=\"Pause\" onPress={() => upload.pause()} />\n      )}\n      \n      {upload && state === 'paused' && (\n        <Button title=\"Resume\" onPress={() => upload.resume()} />\n      )}\n\n      {response && (\n        <View>\n          <Text>Upload successful!</Text>\n          <Text>Status: {response.statusCode}</Text>\n          <Text>Response: {JSON.stringify(response.data)}</Text>\n        </View>\n      )}\n    </View>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Auth Tokens"})," - Include authentication in headers"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Error Handling"})," - Always listen to ",(0,s.jsx)(n.code,{children:"onError"})," events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Network Awareness"})," - Enable network tracking for cellular/WiFi"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User Feedback"})," - Show progress and status to users"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validation"})," - Validate file exists before uploading"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Retry Logic"})," - Enable automatic retry for reliability"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/uploading/multi-part-upload",children:"Multi-Part Upload"})," - Large file uploads ",(0,s.jsx)(n.em,{children:"(Pro)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/uploading/queue-management",children:"Queue Management"})," - Handle multiple uploads"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/react-native-video/docs/v7/extensions/uploading/configuration",children:"Configuration"})," - Upload configuration"]}),"\n"]})]})}function c(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},56151:function(e,n,o){o.d(n,{R:()=>r,x:()=>t});var a=o(96540);let s={},l=a.createContext(s);function r(e){let n=a.useContext(l);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(l.Provider,{value:n},e.children)}}}]);