"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["39"],{54702:function(e,t,n){n.r(t),n.d(t,{frontMatter:()=>r,toc:()=>d,default:()=>x,metadata:()=>a,assets:()=>i,contentTitle:()=>c});var a=JSON.parse('{"id":"players/usage/text-tracks","title":"Text Tracks","description":"Manage subtitles and closed captions.","source":"@site/docs/players/usage/text-tracks.md","sourceDirName":"players/usage","slug":"/players/usage/text-tracks","permalink":"/react-native-video/docs/v7/players/usage/text-tracks","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Low Latency","permalink":"/react-native-video/docs/v7/players/usage/low-latency"},"next":{"title":"Status","permalink":"/react-native-video/docs/v7/players/usage/status"}}'),l=n(74848),s=n(56151);let r={},c="Text Tracks",i={},d=[{value:"Overview",id:"overview",level:2},{value:"selectedTrack",id:"selectedtrack",level:2},{value:"getAvailableTextTracks()",id:"getavailabletexttracks",level:2},{value:"selectTextTrack()",id:"selecttexttrack",level:2},{value:"External Subtitles",id:"external-subtitles",level:2},{value:"Types",id:"types",level:2},{value:"TextTrack",id:"texttrack",level:3},{value:"ExternalSubtitle",id:"externalsubtitle",level:3},{value:"Events",id:"events",level:2},{value:"onTrackChange",id:"ontrackchange",level:3},{value:"onTextTrackDataChanged",id:"ontexttrackdatachanged",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"See Also",id:"see-also",level:2}];function o(e){let t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"text-tracks",children:"Text Tracks"})}),"\n",(0,l.jsx)(t.p,{children:"Manage subtitles and closed captions."}),"\n",(0,l.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(t.p,{children:"Text tracks can come from:"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"Embedded"})," - Built into video (HLS, DASH)"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"External"})," - Separate files (VTT, SRT)"]}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"selectedtrack",children:"selectedTrack"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-ts",children:"get selectedTrack(): TextTrack | undefined;\n"})}),"\n",(0,l.jsxs)(t.p,{children:["Currently selected track, or ",(0,l.jsx)(t.code,{children:"undefined"})," if none."]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-tsx",children:"useEvent(player, 'onTrackChange', (track) => {\n  console.log(track ? `Subtitles: ${track.label}` : 'Subtitles: Off');\n});\n"})}),"\n",(0,l.jsx)(t.h2,{id:"getavailabletexttracks",children:"getAvailableTextTracks()"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-ts",children:"getAvailableTextTracks(): TextTrack[];\n"})}),"\n",(0,l.jsx)(t.p,{children:"Get all available tracks after video loads."}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-tsx",children:"useEvent(player, 'onLoad', () => {\n  const tracks = player.getAvailableTextTracks();\n  console.log('Available:', tracks);\n});\n"})}),"\n",(0,l.jsx)(t.h2,{id:"selecttexttrack",children:"selectTextTrack()"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-ts",children:"selectTextTrack(textTrack: TextTrack | null): void;\n"})}),"\n",(0,l.jsx)(t.p,{children:"Select a track or disable subtitles."}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-tsx",children:"// Enable English\nconst tracks = player.getAvailableTextTracks();\nconst en = tracks.find(t => t.language === 'en');\nif (en) player.selectTextTrack(en);\n\n// Disable\nplayer.selectTextTrack(null);\n"})}),"\n",(0,l.jsx)(t.h2,{id:"external-subtitles",children:"External Subtitles"}),"\n",(0,l.jsx)(t.p,{children:"Load from external files:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-tsx",children:"const player = useVideoPlayer({\n  uri: 'https://example.com/video.mp4',\n  externalSubtitles: [\n    { uri: 'https://example.com/en.vtt', label: 'English', language: 'en', type: 'vtt' },\n    { uri: 'https://example.com/es.vtt', label: 'Espa\xf1ol', language: 'es', type: 'vtt' },\n  ],\n});\n"})}),"\n",(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.strong,{children:"Supported formats:"})," VTT (recommended), SRT"]}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"types",children:"Types"}),"\n",(0,l.jsx)(t.h3,{id:"texttrack",children:"TextTrack"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-ts",children:"interface TextTrack {\n  id: string;\n  label: string;\n  language?: string;\n  selected: boolean;\n}\n"})}),"\n",(0,l.jsx)(t.h3,{id:"externalsubtitle",children:"ExternalSubtitle"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-ts",children:"interface ExternalSubtitle {\n  uri: string;\n  label: string;\n  language: string;\n  type: 'vtt' | 'srt';\n}\n"})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"events",children:"Events"}),"\n",(0,l.jsx)(t.h3,{id:"ontrackchange",children:"onTrackChange"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-tsx",children:"useEvent(player, 'onTrackChange', (track) => {\n  // track is null when subtitles disabled\n});\n"})}),"\n",(0,l.jsx)(t.h3,{id:"ontexttrackdatachanged",children:"onTextTrackDataChanged"}),"\n",(0,l.jsx)(t.p,{children:"Fired when current subtitle text changes."}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-tsx",children:"useEvent(player, 'onTextTrackDataChanged', (texts) => {\n  console.log('Current text:', texts);\n});\n"})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-tsx",children:"import React, { useState } from 'react';\nimport { View, Button, Modal, TouchableOpacity, Text } from 'react-native';\nimport { useVideoPlayer, useEvent, VideoView } from 'react-native-video';\n\nfunction SubtitlePicker() {\n  const player = useVideoPlayer({\n    uri: source,\n    externalSubtitles: [\n      { uri: 'https://example.com/en.vtt', label: 'English', language: 'en', type: 'vtt' },\n      { uri: 'https://example.com/es.vtt', label: 'Espa\xf1ol', language: 'es', type: 'vtt' },\n    ],\n  });\n\n  const [tracks, setTracks] = useState<TextTrack[]>([]);\n  const [current, setCurrent] = useState<TextTrack | undefined>();\n  const [show, setShow] = useState(false);\n\n  useEvent(player, 'onLoad', () => setTracks(player.getAvailableTextTracks()));\n  useEvent(player, 'onTrackChange', (t) => setCurrent(t ?? undefined));\n\n  const select = (track: TextTrack | null) => {\n    player.selectTextTrack(track);\n    setShow(false);\n  };\n\n  return (\n    <View>\n      <VideoView player={player} style={{ width: '100%', height: 300 }} />\n      \n      <Button\n        title={current ? `CC: ${current.label}` : 'CC: Off'}\n        onPress={() => setShow(true)}\n      />\n\n      <Modal visible={show} transparent>\n        <View style={{ /* ... */ }}>\n          <TouchableOpacity onPress={() => select(null)}>\n            <Text>Off {!current && '\u2713'}</Text>\n          </TouchableOpacity>\n          \n          {tracks.map(track => (\n            <TouchableOpacity key={track.id} onPress={() => select(track)}>\n              <Text>{track.label} {track.selected && '\u2713'}</Text>\n            </TouchableOpacity>\n          ))}\n          \n          <Button title=\"Close\" onPress={() => setShow(false)} />\n        </View>\n      </Modal>\n    </View>\n  );\n}\n"})}),"\n",(0,l.jsx)(t.h2,{id:"see-also",children:"See Also"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"/react-native-video/docs/v7/players/usage/source",children:"Source"})," - External subtitles config"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"/react-native-video/docs/v7/players/events/useEvent",children:"Events"})," - Event handling"]}),"\n"]})]})}function x(e={}){let{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},56151:function(e,t,n){n.d(t,{R:()=>r,x:()=>c});var a=n(96540);let l={},s=a.createContext(l);function r(e){let t=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);